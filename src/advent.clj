(ns advent
  (:require [clojure.test :refer [with-test is run-tests]]
            [clojure.string :as s])
  (:import (java.time LocalDate)))

;; TODO default to system day of month
(def ^:dynamic *today* (.getDayOfMonth (LocalDate/now)))

(defn day [n input parse & more]
  (when (or (= *today* n) (nil? *today*))
    (let [[a & more] more
          [a-cases more] (split-with vector? more)
          [b & b-cases] more
          [a' b'] (map #(comp % parse) [a b])
          run-case (fn [f [expected input]] (and f (is (= expected (f input)))))
          run-cases (fn [[f cases]] (every? identity (map (partial run-case f) cases)))]
      (when (every? identity (map run-cases [[a' a-cases] [b' b-cases]]))
        (and a (prn "Solution A:" (a' input)))
        (and b (prn "Solution B:" (b' input)))))))



;; 1 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(def input-1 "1941\n1887\n1851\n1874\n1612\n1960\n1971\n1983\n1406\n1966\n1554\n1892\n1898\n1926\n1081\n1992\n1073\n1603\n177\n1747\n1063\n1969\n1659\n1303\n1759\n1853\n1107\n1818\n1672\n1352\n2002\n1838\n1985\n1860\n1141\n1903\n1334\n1489\n1178\n1823\n1499\n1951\n1225\n1503\n1417\n1724\n1165\n1339\n1816\n1504\n1588\n1997\n1946\n1324\n1771\n1982\n1272\n1367\n1439\n1252\n1902\n1940\n1333\n1750\n1512\n1538\n1168\n2001\n1797\n1233\n972\n1306\n1835\n1825\n1822\n1880\n1732\n1785\n1727\n1275\n1355\n1793\n1485\n1297\n1932\n1519\n1587\n1382\n1914\n1745\n1087\n1996\n1746\n1962\n1573\n2008\n1868\n1278\n1386\n1238\n1242\n1170\n1476\n1161\n1754\n1807\n1514\n1189\n1916\n1884\n1535\n1217\n1911\n1861\n1493\n1409\n1783\n1222\n1955\n1673\n1502\n607\n2010\n1846\n1819\n1500\n1799\n1475\n1146\n1608\n1806\n1660\n1618\n1904\n978\n1762\n1925\n1185\n1154\n1239\n1843\n1986\n533\n1509\n1913\n287\n1707\n1115\n1699\n1859\n1077\n1915\n1412\n1360\n1646\n1973\n1627\n1755\n1748\n1769\n1886\n1422\n1686\n950\n100\n1372\n1068\n1370\n1428\n1870\n1108\n190\n1891\n1794\n1228\n1128\n1365\n1740\n1888\n1460\n1758\n1906\n1917\n1989\n1251\n1866\n1560\n1921\n1777\n1102\n1850\n1498\n683\n1840\n1800\n1112\n1908\n1442\n1082\n1071")
(def test-input-1 "1721\n979\n366\n299\n675\n1456")

(defn pre-parse-1 [input]
  (->> (s/split input #"\n")
       (map #(Integer/valueOf %))))

(with-test
  (defn algo-1a
    "O(n) finding two numbers that sum to 2020"
    [input]
    (let [[a b] (->> (pre-parse-1 input)
                     (reduce (fn [seen x]
                               (let [target (- 2020 x)]
                                 (if (seen target)
                                   (reduced [target x])
                                   (conj seen x))))
                             #{}))]
      (* a b)))
  (is (= (algo-1a test-input-1)
         514579)))

(def soln-1a (algo-1a input-1))
(comment (prn soln-1a))

(with-test
  (defn algo-1b
    "O(n^2) find 3 nums summing to 2020"
    [input]
    (let [nums (pre-parse-1 input)
          nums-indexed (map vector nums (range))
          sums (->> (for [[an ai] nums-indexed
                          [bn bi] nums-indexed
                          :when (not= ai bi)
                          :let [sum (+ an bn)]]
                      [sum an bn])
                    (reduce (fn [acc [s a b]] (assoc acc s [a b]))
                            {}))
          factors (some (fn [c]
                          (when-let [[a b] (sums (- 2020 c))]
                            [a b c]))
                        nums)]
      (apply * factors)))
  (is (= (algo-1b test-input-1) 241861950)))

(def soln-1b (algo-1b input-1))
(comment (prn soln-1b))



;; 2 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(def input-2 "6-10 s: snkscgszxsssscss\n6-7 b: bbbbbxkb\n2-4 n: nnnjn\n1-2 j: jjjj\n5-9 z: jgzzzqhbj\n4-11 m: mfmmmpmjmkdr\n12-15 t: twqrxttwttthtkxbz\n8-9 z: ftzjzzzzr\n17-18 h: cpkhssvpphzvprfnft\n7-8 b: bjbbbbbb\n4-5 p: pppppppppgppps\n16-18 r: rrrrrrrrrrrrrrrrrr\n9-16 v: vvvrpvbvvvvvvvvvwvvh\n11-15 d: ddddddddddddddjd\n9-14 g: ggbggghggggggggw\n1-5 d: ddddbd\n1-4 x: xxxwxxx\n1-2 l: bdjjddlqg\n1-4 b: lbbxb\n15-16 f: ffffffffffffffmz\n10-16 m: mmlmmmvmmmbhmmmq\n4-15 v: vlfvvqphhjfvlgt\n5-12 m: mmmmjmwmmmmcmmm\n7-8 q: qqqqqqxkq\n4-9 h: hhzhhhhhhhhhsh\n3-7 t: thltdtjtstzrtwtt\n6-7 k: kkkkkkk\n1-5 q: jqwqd\n4-13 x: xxxxxxxxxxxxxxxxxx\n1-4 l: llfl\n6-12 n: nnffnfnnmnffnx\n4-6 m: xmvxnmpmm\n5-7 m: mmmmbmmmmmmmmm\n9-17 f: ffffflffbfffffcffff\n4-10 k: kkklkkkkkhktkkbkzq\n8-15 z: kdxxzzlhpzgbzjzz\n2-5 q: qrqqbqqqqqqqkqq\n3-5 t: zrttht\n9-12 t: ttxgntjmvntctpfrt\n2-3 k: kkkk\n8-10 j: jjjjjjjjjj\n2-9 k: vkwkhcqnk\n9-10 t: ttttttthtt\n4-6 b: bbbbbbbb\n9-12 n: xnvnnvldhthlsn\n2-4 w: wwwwwwj\n6-10 t: tttttwttttvtt\n3-10 j: jqjjjxjdjnjjjj\n15-18 q: kqlncdqwclqpjzrbnq\n7-8 p: gpwbjppp\n3-13 m: mmmmlsmfvmhmmmm\n7-10 s: wdshsrsgsl\n8-16 f: fffffffxfffffffcf\n16-18 s: ssskswhsvslwsssrsq\n12-14 j: gjjjjkjgjkjhjvj\n13-14 t: gtttvftwtgvhlt\n6-7 v: vvvvvgbv\n2-8 l: ssldslmvl\n3-9 l: bflzllqkqlkll\n8-9 n: rrnnnnnnsn\n7-14 p: bqsrxgplkpdvbpkn\n2-5 z: wzbclnsxt\n2-4 k: knkxk\n6-8 d: drddjddjdd\n15-16 p: ztgptpfpcwppqrzppps\n1-3 k: nmsqksv\n7-10 n: pwhbcwnlznfnvrlnds\n13-15 t: tttttttttttttttttt\n10-12 b: bbbbbbdbbgfxbbbf\n3-5 w: rwwwj\n18-19 x: xxxxmxxxxwpxxxfxgln\n1-4 g: lfsjtgggg\n13-15 x: mxzgtxhrxjhxtnf\n13-14 d: ddddddddddddlx\n3-5 r: rrrtrrtmlr\n1-7 t: thttttttttt\n2-5 g: sngggj\n8-9 n: tnnnnnnnn\n6-10 w: wkwwjfwltk\n12-18 n: nnnnnnnnnnnnnnsnnh\n14-18 m: mmmmmmmmmmmmmmmmmmmm\n5-15 v: fvvfrcqkvkggnpl\n13-19 f: ffffffftfffdnffffpsf\n13-15 k: kgkkkmkkkgftklb\n4-6 h: hhhchvh\n7-14 l: qmbdhdjbrglxql\n13-17 w: kwwwwwwwwwwwdpwww\n1-5 q: pqqqdqqqq\n8-9 p: vhwphvpfp\n2-4 h: hljmh\n1-2 c: tmcc\n3-5 f: dpnvwffhlp\n3-5 m: mmmmmm\n10-12 c: ngjnczmcscxc\n2-4 x: mxxj\n4-6 m: xbmkmm\n1-6 l: kllllsblqhngl\n11-18 x: xprkjcrxkgxxgwtbmx\n4-6 k: vwxshkkkkbtfbhl\n11-15 z: dzzkzjjzzzzzzzlmzbn\n5-6 f: ffffnfffflfjff\n3-6 d: ddddddbd\n6-9 r: wrrrvrrrr\n8-9 n: nnnnjnnnt\n2-7 b: bxptdkctbrxfllpvj\n3-4 x: hxxv\n5-14 n: nrnnnlsnznnzrqnjxnp\n1-3 w: wwww\n9-12 x: xxmxxxxxxxxxtxx\n10-14 j: jjnjjjjlvjkcsjjdllvj\n4-6 w: wgwbwwww\n10-12 t: ttqttttttttl\n10-11 t: ttwtttttttv\n9-15 t: ttttttttftttttttt\n2-3 p: pfgp\n2-4 z: brrksnvqjzwqjvjs\n8-9 n: knnnftzjbqj\n6-7 w: swjwwdwwwwwwwww\n1-2 j: xjlrkjjztrjfpss\n13-14 l: llllllllllllvlllllr\n7-12 l: lllllllllllblllll\n7-8 j: gqdcmjqh\n3-9 g: gchkbvgvgw\n15-17 b: bbbbcbbbgbbbbbmbg\n1-7 h: qlmhhcdhhhhhhhhhh\n2-15 c: ccccccccccccccscccc\n1-2 q: xvch\n3-9 w: wwwwwwxwww\n2-4 x: jskx\n3-7 t: btwsnvts\n9-11 g: gkhgwctggbm\n2-7 g: xvgwwltdvnzscbtqwb\n1-11 k: kkqkpkkdkkkkkkkhkk\n4-12 h: nbqlhjbqhxtnxlzlr\n3-4 d: dwdd\n8-9 k: kkkzbckklqqkhfkqkk\n7-8 c: pcxmqdwc\n2-4 v: qbvwvvnvvp\n3-9 c: pfqcblwxcrmx\n1-9 t: fwgtcrftktt\n7-8 p: pppppppp\n6-13 w: dnwfhwkjffpdwgzdf\n10-14 k: kkkkkkhkkwkkkkkk\n2-4 s: zscssddtpmqblmd\n11-13 b: dbvzwthlcmbkb\n1-4 k: kqlxwvbkckwzmqxvtcc\n2-10 s: sxssssgsssxsssnss\n3-9 w: nxrmwlpgw\n10-13 w: wwsgwwwwwwwkw\n9-13 v: vhvvwjvcvbvvg\n5-7 n: fbvnjpt\n3-4 x: xxxx\n9-10 l: rlllmlllll\n7-9 d: ddddddddhd\n4-8 z: zzzhzzzf\n11-12 m: mmmmmmmmmmkf\n4-8 m: bmfzppcqttct\n2-4 m: mfmcmmmcx\n2-9 p: rppzgvshn\n7-8 r: rrrrrrrrrrvr\n6-7 p: hkltppp\n7-10 m: mmmmmfmmtmmmpbmm\n6-14 p: pppppppppppppxp\n4-6 p: wbspppnlmc\n2-4 n: xnfnl\n2-5 q: nqkcqmvwp\n2-3 d: ddkbkdjd\n5-9 b: qxjbblbrb\n14-16 b: bbbbbbbbbbbbbqbbb\n5-6 p: dppppp\n5-8 j: kxztnjjn\n14-18 k: krkkkkckkkkmktkkkkd\n7-8 n: nnngxnfpnn\n16-17 c: ccmccccccccccccfcccc\n1-3 g: wggg\n1-2 c: cqcckc\n2-8 g: gjwdkbds\n10-17 s: hswqssmttskspdlkkss\n14-16 b: bbbbbbbbbbbbpbbrbbbb\n12-16 r: srrmcbrrcrzrdwzng\n2-3 h: fcws\n9-13 p: gkgpqpghpjbpz\n9-10 m: mmmmmmmmmmm\n3-4 b: brbb\n2-3 p: gncvqdhp\n2-7 g: gdggggggggggggg\n2-7 j: jjjjjjrjqjjj\n3-5 v: ltptjlntf\n1-7 w: gwwwwwfww\n7-10 z: zzzzzzmzzzz\n10-12 x: xxhxxxxxxgxsxxxx\n11-12 b: bbbbbbbbbbbbd\n16-17 v: vvvvvvvvvvvvvvjht\n1-4 x: bxxx\n16-19 g: gggggggwggggggjgggg\n5-10 q: qjpqqvlnkqxmlv\n4-6 p: qrpffplvpp\n7-9 r: rrrrrrgrb\n2-3 g: bgjg\n10-12 t: ttjttttnttdtt\n2-4 g: dgng\n11-12 r: rrmrrrlrtrrj\n1-5 v: qvvvvvvvvvvvvvv\n3-18 p: ftnfnpmjprmrzmhbnxj\n10-12 w: dqnsjjxsqrwq\n2-4 z: lzgkzsb\n8-9 n: dwclxdtnndtpcgqmx\n10-11 w: zjwdsphbbwlhp\n2-9 d: zzprkgzczbs\n14-19 c: gpjfrvsrcnbxbclctxc\n1-9 f: fmhfvfffrfws\n12-14 d: ddrddbddddddddhmdg\n14-15 s: sslsssmsnssdxsj\n2-10 v: ljppzjfvfnfp\n1-2 z: qbwbzknrzzs\n18-19 l: llllllllfllllllllll\n2-3 p: ppgp\n13-15 k: knkkkkkckkkkhkxk\n3-6 v: vbjvmv\n4-8 h: hmhcxfhg\n12-14 v: vvngcvvvvkvgvs\n2-3 j: xdjjrk\n5-13 s: sssssrqsssssq\n1-7 s: sssssssss\n6-14 b: ptlvmbbrbxnvqbrmp\n16-18 w: wwwswwnwwmwwwwwwwf\n1-4 k: kkknkkkkk\n1-4 g: ggrbk\n9-11 r: rrrhrrrrrrrrr\n11-13 x: xxxxxxxxxxxxnx\n3-8 x: nsxvlvdfbkpxsgscn\n12-15 h: hghhchvjhhhhlvhhhhh\n11-12 n: nnnnnnnnnnjqn\n10-13 r: jrzfzrzrqblmks\n7-8 w: wwwwwwwh\n3-4 k: kkbft\n1-9 c: cccccjccccccn\n2-7 r: rrvnrxrvrzsrbrs\n3-10 l: llgdldmlplqlhdlll\n4-8 m: mmzmbmgm\n5-6 q: sfxqnftnbnqwq\n5-6 v: vvvvgvvqv\n9-14 h: dhmwrhzqqvhhhfhfhhht\n4-7 p: jwwppvpklc\n9-13 z: zzzzzzzzzpzzzx\n13-14 l: fllklltlllllcphllll\n12-15 m: htmbmqgljcmvmclgnm\n9-10 b: bbbbbbbnbb\n6-12 x: nxjbxxhxxxxgdxx\n6-7 t: tttbwlk\n8-11 q: fqqjtlswqgkqdqc\n16-20 t: xplwqxbwtsfptbvtvcxt\n3-4 k: kklkkkkkkxkkkk\n3-9 m: kmmsvmpmxmgmb\n6-12 j: jjtjjjjjjjjpjjwj\n3-4 m: kkmbmzkx\n7-8 f: gmfxlgfjtfst\n1-3 w: wwwn\n1-7 k: knkktkkn\n13-16 v: vvvvvvvvvvvvvvvmvv\n10-11 h: rhvdhnfhvtchlfhh\n10-12 x: xgxwbqxkxxcwsfd\n10-14 m: mmmrdxpcmcmmmkmmmmm\n2-5 x: vvxpx\n8-9 h: hhhhhhhmfh\n16-19 j: jmwjjjjjjjjjjjjjjjz\n2-3 r: sqrnr\n14-19 p: ppppppppppppppppppk\n2-5 w: wwwww\n15-16 q: dppxtnhmxrhmncrqq\n4-5 v: drhpp\n1-4 p: pkhn\n3-6 q: gwmrfwh\n6-10 v: dlvvfhvvkb\n1-8 q: qqqqqqqqqdqqqqqqqq\n17-18 n: nnnnnnnnnxnnznnpnng\n3-7 m: gmxzffwmbdm\n12-14 m: dmzmcmmhjmqltm\n3-16 w: drcbwtvqgbppbwzvm\n8-10 d: ddbddddzdddddkpd\n8-9 m: mmmmmmmmmmmm\n1-3 l: glll\n7-11 x: fxrxxdxxxqxnxx\n6-7 d: ddddxgdd\n7-8 g: hgggbggg\n2-3 w: pwwtww\n7-10 h: lhwbhjhzhx\n3-14 b: bbbrvrbsfbnxrgqbbq\n4-7 l: jzqkxlnpxlglfsll\n6-7 b: hbpbbbb\n2-4 w: pskwwxzpjvmwcnfr\n13-15 m: mmmmmmmmxmpmxmmm\n4-9 k: krxkzqzkkhrpqth\n4-7 f: xfffkvfqzwhcfwkhq\n4-10 q: qqqqqcqbqqq\n14-15 s: lgszsdststlpgjbs\n7-12 s: sspbsssskfns\n7-8 d: cdddqpnd\n13-15 p: ppppppppppppxppp\n10-11 r: rrrfxrrrrrrrrr\n10-12 z: zzzzzzzzzvzvzz\n3-4 l: lllwll\n7-9 p: ppppkpppqpppppsvx\n3-4 k: kkkrk\n4-5 v: zxmmvmhvr\n14-15 r: rrrrrrrrrrrrrfjr\n6-10 b: vwbgbbbbdbqsbb\n5-7 j: jsjjjkv\n3-4 m: tzmhr\n11-13 r: rrrrrrrrrrqrhrr\n1-4 s: psqmcssnk\n5-6 z: zdkzzzz\n3-5 p: cnpmbtknqdppmcjpzvcn\n13-14 g: ggggkggggmtggd\n14-17 c: nxmzcczccnvdcxpcmb\n6-10 w: wlwwbdwwwwwwww\n9-17 l: llllllllllllllllll\n2-12 j: jpjdjjjzmjxj\n1-3 n: szjntnnl\n7-8 l: dpxlmhlbts\n5-16 s: sssssssssssssssrs\n1-6 m: pmqvlc\n7-15 f: ffffffffqfkfffdxff\n10-11 w: wwwwwwwwwwswwww\n7-12 p: tkppvfpwksrp\n4-7 f: fdjdgdvsksbfbnjkspc\n4-11 b: bjmvfrmlmlbndl\n1-3 r: rrrnxhgbwr\n5-10 h: xhhmhhhlhbh\n10-11 h: hghhhhhhdlhhh\n5-6 g: gptglg\n9-11 t: wtgtxtttqtmttt\n5-11 f: jxqffhfsfmz\n4-7 f: frjffbf\n1-15 m: mmmmmmmmxmmmmmmmm\n1-12 d: drwlbpdbzdgdjpnzmj\n9-14 n: nfnmktjnncnnnln\n1-2 h: pshhjhhhhf\n2-4 t: tgttttttfb\n2-4 w: dwpwhnxbf\n7-11 b: vbcbzhbwhpb\n4-5 k: hknck\n5-12 m: mmmmtdmmmmmmmm\n5-7 w: qwflwxq\n2-5 g: jdnxdlclplvb\n5-7 t: ttrtttttkr\n8-18 l: lwscjwlmdlzlllnsllpw\n2-8 c: cccxtccchbrkr\n1-3 q: qqtqqqqq\n3-13 d: dddddddbddddddd\n1-7 r: jkpzrpfnrgpkc\n9-10 t: ttttttttttt\n11-12 w: wjwplwwwwwmw\n9-12 r: rpsvrhrbnrwqch\n6-11 p: zpzbpkpmtnptsnpbswc\n4-6 t: jhzstt\n3-4 t: ddpkcgpzhd\n4-6 s: cvzshjfrsslxnslqddwt\n1-3 c: cgsczhl\n1-4 d: lddqdqd\n6-7 v: vvvvvvb\n5-8 w: wwwwwwwwww\n5-11 p: ddswpbpppsqpp\n5-6 x: dfzxxxhhqjvj\n3-7 m: mmmmmmmmmm\n4-8 g: ggggggggg\n5-6 j: jjcjjn\n5-6 n: nndtns\n4-5 t: ltxkdpst\n2-8 b: ldwkbzbxgpbbbb\n11-12 w: wwqwdqwwwqhvwww\n15-17 k: klkcxqbwrktxcmqlnb\n5-6 k: tkqhkkkkrkjfd\n12-13 x: nxxxrjxxxdjlxxbt\n9-12 m: mmzmmmrmmfmgmmmmb\n2-5 v: tkbhvlvp\n12-14 v: dvbvvvvhrcvvvxxvvvvv\n14-16 x: xxxxxxxxxxxxxrxxxx\n6-7 v: xvswnvvm\n6-9 c: vcpcksxwbdlc\n5-11 s: sssssjssssrsdjsssq\n6-16 j: jjjjjmjjjjjjjjjnj\n8-12 g: ggggwggggggnggg\n4-5 c: ccczk\n14-15 l: lllllllllllllkm\n10-11 r: rrrrrrrrrrrrr\n3-5 n: dwnvnlj\n2-4 x: xdxxxx\n5-6 j: jjjjjjj\n3-9 k: kkkkkhlrkktt\n3-7 t: stqtgfdprtqjsgznrtjh\n11-16 n: hsnnnnnnnnfnvnpqnnn\n13-16 v: kdvbvxvvtvhvvvvq\n1-3 v: vwpvkvdpxgc\n14-17 v: vvvvvvvvvvvvvnvvhv\n14-15 m: mmmmmmmmmmmmmtm\n6-10 m: mmmmmhmmmm\n5-8 t: tttjrttdsttfttwstf\n6-7 c: ccqcvcc\n2-5 v: vvvvvv\n8-16 c: cccccccccwcpcccmcccc\n4-5 t: ztvttktttttt\n10-11 n: rnmnnnnnnnnnnnnpt\n5-6 g: lgsggggg\n15-18 s: lcsmgkjqzdpcgvsrng\n2-6 p: wwpppp\n9-10 v: vvvvsvvvmvv\n6-11 c: qrmdjxzsmxcmcccgrr\n17-18 b: bbbbbbbbbbbbbbbbbbbb\n6-10 t: thtxgtpxwt\n2-8 f: xkgbrpqfsrhhbnfpdg\n3-8 c: gqkkvgkcqfwdc\n5-6 c: jjcsjf\n8-16 q: fbwdmlwljqqcrqsq\n3-10 m: mjmmsmmmmmmcmm\n5-15 x: xmrvcsjwxxdpsrxzcrzj\n3-7 x: rxngzxxg\n17-19 z: mmvfgzpmbvzsrmkgmmmb\n3-4 z: zdzz\n4-5 v: vzcvb\n3-11 z: tzllpgzzmwxznh\n8-11 x: ptgvnbxzsxwdb\n2-3 r: rrrrr\n6-10 b: bbmbbbbbbb\n6-11 q: wvmqrzrllhxfzmpkp\n13-17 v: vvrgvvsvvcqkvvvvbvvw\n16-18 p: ppppppppnppgppppclp\n13-15 g: gglggggggngggggggggg\n15-17 b: bbbbbbbbbbbbbbbbb\n3-6 t: tpwzktlzkdt\n2-3 m: lmvtnfjzmm\n1-7 j: jzjjfjx\n15-17 r: rtfdnhrrhrrdcswrl\n1-3 d: gdfdmddddwdddlsd\n3-4 r: qrtr\n10-11 m: mmmmmmmmmkc\n2-5 n: gntnnnncc\n9-14 b: bbbbbbbbbbbbbb\n10-13 f: fxfffznffffzwffflz\n5-12 j: vjjrjjjjngjjjjm\n6-8 k: kkkrkklkkkkkkk\n5-7 r: rrhzsxrjjw\n17-18 g: gggggggggggggggggf\n2-3 h: ghhvrh\n1-3 j: hjjxjjjj\n3-5 q: gbqnqkprckxqglkhw\n17-18 n: ngnnnnnqnnnnnnnnnnnn\n2-3 m: xlhmmq\n6-7 p: kvvphgj\n9-12 k: kpkzkkzkkkkkbwk\n9-10 k: kkrkkkkkmt\n5-10 t: tttttttttttttttt\n10-11 l: ztdvlllzfltlwlglkhcj\n7-12 t: bttttqtqttttttttg\n3-4 z: xzvb\n5-10 h: lhcdhkhhhhb\n1-6 z: jqzzqzzzzzzzzzzzzz\n6-7 x: qxxxxtxz\n13-14 g: gggngggggggrgsgg\n1-2 t: tttt\n11-15 w: hpwhwmwlkbwtwmwlj\n8-10 r: rnrhrrmprnrrr\n5-12 z: rshzhwgzhfjb\n15-16 s: sssqssssssssmsss\n9-12 z: zdzzzzzzkzmz\n10-12 c: mfgpskncfcfctjmt\n5-10 p: sppwnpdpptppwdppppp\n3-14 q: mnzfgfmvmsdlqg\n1-13 s: sssssssfssssbsss\n6-8 d: ddddddddd\n2-5 j: vsbbjh\n14-16 m: nmklmsrpjxwpdbmj\n3-8 v: rfvvvjqv\n18-20 p: pppppppppqhpflppbppp\n7-11 x: xxxxxxwxxxx\n3-4 l: llmvlll\n8-9 w: grmvwtwbz\n2-11 m: mmmmmmqmmmsmmmmmmmmm\n6-13 h: hhhhhrshshhhlhhhh\n3-12 t: tnttblttttcvrtttx\n5-18 f: cfffcffvgffffrmlfx\n1-3 n: rnjnnnnnnnnnnnnnnn\n1-2 w: smmdq\n1-5 v: vvvvvv\n5-15 s: tssssscssffhsswssss\n3-11 b: bbbbbbbbsbkbbbr\n13-15 j: xjjpjjcjjjjjjcj\n5-10 g: bvjvgpzgdgkmmzwnwrxz\n2-7 q: qqqqqrq\n10-12 d: fddddbdddxdqpd\n5-7 c: hsccjccrlm\n11-15 r: nrrrlrrvrdlrprw\n13-14 r: drrtbrrrrrrrrcrrr\n8-10 c: ccccxcchfjcccccxpc\n8-9 s: sssssssss\n1-10 r: rvlgkrrrrm\n8-13 w: jwbwcwmwwvwwwwww\n7-12 k: fxkkcnkkbvkxbkphx\n7-8 l: llllmlvll\n11-15 q: qdjpqwgfqjdqnnq\n8-9 m: mmmmmmmvmmm\n6-7 k: kkkksmkb\n4-6 h: hhhlhhhhfhhhhhh\n2-5 k: xzjlwb\n3-12 j: sjwqrjzjgqrj\n5-18 p: ppppppppppppppppphpp\n1-3 g: gggrggggg\n14-15 n: nnnnnnnnnnxnnhnnn\n19-20 d: jkpzsxwsddzccjdkcptj\n2-4 v: wpdz\n1-8 w: dwjtngwwwrwhp\n13-15 t: tttttctttttxvfrt\n6-11 h: ksvshqhhdth\n8-9 k: khfkdkppl\n11-12 d: whlmcdmfgfddd\n11-12 p: htvxpkfngthz\n6-9 v: vqvmvvbbv\n5-8 m: lghmmmrmmw\n14-16 q: dtmqqrqqqqqgpgqtqr\n2-11 f: bfjskxzlgvfml\n10-19 p: kpppppppphppppppppp\n5-7 j: rfbpzmjtjj\n9-10 p: kpppppppqpp\n3-15 k: hgkgrqblnjmsbvrghzdk\n6-7 r: rrtwrwlfrswwr\n3-4 k: fkkdv\n12-20 g: ggggggggkggggggggkgh\n3-5 x: xxxxpxxxxxxxxxb\n8-10 k: kkkkkkkzkh\n4-10 q: qqqmqqqqqcqq\n4-12 t: ttgtqblzqzpttcxdtfn\n18-20 s: sssbbsscsjvslsvsssss\n3-6 x: xxxxxxx\n4-5 t: tttttt\n5-7 q: xqqqqqqqxkqqqqqqqtqq\n2-4 s: zsvq\n6-7 b: mmbcklx\n1-13 z: zzfzkshpslwcn\n1-14 d: ddpddtdddddmmf\n8-13 j: jjjjjjjjjjjjjjjjjz\n5-6 c: cjjlxb\n10-12 v: vvvvvvtvvmvv\n2-3 b: wfbbg\n1-10 l: llllllllllllllllll\n5-10 d: hdbhdgxcjd\n10-13 t: ttttttttttttnt\n5-6 h: vhmhhh\n16-17 x: xxxxxxxxxxxxxxxsqx\n6-14 g: gzggggzhggggzgg\n15-20 f: ffbfxffffvfffffffhfd\n2-3 d: xdvw\n5-7 g: zgggjgq\n2-12 g: ggggggggmgggggg\n6-8 h: hhhhhhphhhlhjhhxfh\n3-10 j: knjklstqxwcsjf\n2-3 h: hvnwjxhpsc\n7-8 w: wwwlwwgw\n14-16 s: chgtpswssxsqtwzrsqt\n5-6 d: zdbdkl\n3-4 p: lwkpbrbp\n8-14 c: cbhtccjmrccrcp\n2-3 s: tctflmgdtsjjfxpl\n3-4 g: gggjkctwdsgl\n2-4 h: ghbh\n4-13 h: fczphhvflghhhd\n3-10 x: jkzhgljwsblcrmbwfx\n12-13 p: npfgppprzpppc\n7-12 l: sqbplmqnlmwph\n1-8 p: hpppvpprppp\n12-18 n: nhbznznxncnkcchscl\n9-10 g: grjxmgzpgk\n6-7 g: rcmkggggggg\n1-7 b: bbbbbbbb\n2-3 t: ttftzqt\n8-10 l: twbjlnblhck\n1-2 c: cvbc\n4-9 d: mfpdddsnd\n5-8 f: flpvbdrfl\n7-12 s: rhspsxlbpsmsclzrdsfc\n2-4 h: vhhh\n1-10 k: bhkkkkkkxkkkzk\n5-15 q: qqqqqqqqqqqqdqdqql\n12-15 c: ljvcklwjvngfgfgrjsv\n8-10 w: pwwtpbwwvwwrwww\n5-13 b: tbjmbfmknjhbb\n1-2 v: cssd\n2-5 s: ssssss\n3-4 h: bhhxxhfh\n3-5 p: pfppp\n13-20 l: lcxxllcfjmllclljllfl\n2-4 p: sqpzk\n2-4 l: xlllb\n1-7 t: ttttttrttttrttttttxt\n10-12 m: bwmmghzmqmmpmj\n5-8 l: jtlljpql\n5-6 d: lddddd\n6-8 c: nljczccdwvnmrlqvlsc\n8-9 d: dzdddcddt\n10-11 z: zzzzzzzzmqj\n3-4 s: msssss\n3-5 z: xzvdzbzt\n2-18 v: bvcbpwkbdmclbnbmsv\n9-12 b: jrcccsndstzbxprkvtq\n3-11 n: vlntglzvvcnngn\n3-8 v: rpgckwptlvdqsrqqt\n6-11 q: qdqdkqvkvhdrdqm\n9-12 b: khbmbgbbvbqb\n9-10 g: gtggggggczgg\n3-5 c: zqctcs\n15-18 z: kbzsdhbbzxfzzqdjzc\n7-8 g: ggggggzx\n9-10 s: sswssrssqms\n14-17 g: ggggcggggggggpggcgg\n10-15 g: qgzmbkjlggrhgkg\n9-11 j: jjjjjjjjqqjjjjjj\n5-6 c: cgcdcchcccbcc\n2-4 g: gggg\n5-13 h: plkhhrmxhxhmh\n11-16 v: vkkqrvbvbcvvnvvvvv\n6-7 c: rlfmqphqrhqkhch\n3-5 z: hzspz\n8-9 d: kddmdddpdvddln\n5-11 k: wkqkcfkpvnkvh\n4-7 r: fnzzwxrxr\n15-16 r: rrrrrrrrrrrrrrwr\n2-19 f: fvffffffffffffffffwf\n9-11 v: hbvbvvgcvvvj\n2-4 m: mrxpv\n13-14 z: zztzgzzpzzzzzg\n4-10 t: qtvtcrfmlkrgtwsvwtw\n3-7 g: ggggggfgggggggg\n5-8 c: ccccfcccnmccc\n6-12 z: bzfcjzdznzwzrzbzzqrn\n14-15 c: ccccccccccccczkccccc\n3-4 j: jjjjjjf\n1-2 x: kxxxx\n3-4 s: sksj\n17-19 c: hvchccvccdxgccnxdcc\n3-6 r: trrrrrrr\n10-11 c: ckcjzcrzcbc\n1-7 p: pmqplfpvgq\n3-4 h: hhmx\n5-6 n: nnwndln\n5-10 v: bkkvfgvqwdt\n7-14 h: hkjlwvhdnhxhwcnhs\n4-12 f: xxwfjfcwslrfzrxfkxj\n2-3 c: ccccc\n4-13 k: kkkdkkkkkkkkkkk\n8-10 b: mqlljkpbbbxbrbfx\n1-4 p: pppp\n14-17 n: nnnnnnnnnnnnnnnngnn\n5-6 d: dddddddvw\n9-10 r: rjtrrrmqrrrzrrrrjrrm\n7-11 x: bxxxxxrwxpmn\n13-14 w: gwmwwwlwwjwjwx\n2-4 d: dddddvddd\n7-9 p: pjmdppgpspcslh\n13-16 l: tllllzllpvllvlzd\n9-11 q: qzmwqqzqtqqq\n4-5 d: dvdngdd\n9-11 j: xxxvjrmgjpk\n3-4 c: rvvcn\n15-16 r: rxvmlslkpmqdqtdd\n2-5 b: sbflb\n4-5 w: wntpw\n8-16 n: nnnnnnnhnqnnnnnnn\n5-6 n: nnnnnnn\n2-5 q: bsjfhq\n6-18 r: prrrqkmrrrvbrrrrdfrv\n3-5 g: xnxlp\n4-11 s: jsstsssjssfssss\n14-16 d: dddddddddsdddddd\n18-19 n: vgngvbhdjfrbnznhhjzn\n11-13 f: ffffffffffgfgf\n5-11 n: dbgvngchnkngt\n3-4 f: gsff\n2-4 r: rfdrlznkzg\n10-18 z: zzgzwzzzzzzdzzmzhzzn\n4-5 s: qscmbssss\n11-15 x: xbxxxxgxxxbxxzw\n2-10 h: dkrnxknmthcv\n12-13 b: bbbbvbsbbbbgcbnb\n4-5 m: mmlmmsmmh\n3-6 j: njrjjkcr\n10-12 x: xxxxwdnxxxxx\n14-16 g: hggggggggngggggg\n8-9 x: gjqfxxxtxxxb\n16-17 f: ffffffffjffkffffmffb\n2-8 z: tsktkzfxntrv\n2-6 v: hvvswd\n1-2 w: xddl\n2-6 k: svwvvkqmzwjkx\n9-12 p: ppppppppbppspppb\n12-19 m: mdjmlhsmxmwcmmmmmmm\n3-5 x: rxjxb\n17-18 r: rrrrrrrrrrrrrrrrwk\n2-9 b: cbfbqcfwbmwd\n1-11 h: hhhhhbhhhhmvhhhh\n2-3 j: jkjjgjhxj\n5-6 f: fffffffffhf\n17-18 j: jprvtszvgsbtxlrhljsz\n1-4 m: mmhmmmp\n2-6 p: xvfkpkc\n1-2 f: xqtfcf\n1-5 r: brrrrrr\n7-10 w: wwhwwwdwwj\n1-4 w: vwwdh\n1-3 f: hnpvgfwth\n10-12 k: kkkkkkkkkdkq\n5-13 r: rrpqrrvrqrswzr\n9-17 x: xjxxvxvbtxxxtpxpx\n12-13 j: njrjkcjgbjjnj\n2-4 l: lvll\n12-17 p: dpppprpbppnvpppprp\n4-18 b: zftbmbxgzfzdvdnvhb\n12-16 r: lcqgqjthprlxrzrrx\n2-7 m: msclccmxhsmf\n3-4 b: bfkb\n2-6 k: skfgrk\n4-5 q: qqqhhx\n6-8 c: cccmvcch\n16-17 l: bxnlvbvwzvfvbcmxl\n7-12 c: cccccccccccc\n6-7 b: bbbbjsjbbbs\n2-7 q: phxnfxqrqv\n4-5 h: hhhhhh\n9-15 n: nqnnglsjnnghxrn\n3-4 h: hkkh\n5-11 r: rlsjvrrrrrl\n5-7 b: bbbbzbwbbbb\n2-3 f: qczff\n8-14 c: fccqccccccclccccck\n1-8 r: rrbfmjsr\n4-5 p: dpphz\n11-13 d: wdmwkcqddrdvdz\n8-15 h: hhhhhhhhhhhhhhhhh\n6-10 l: dhgdclhlkltnc\n14-15 t: tttntttnthtttzw\n4-6 p: pppppdp\n13-14 l: dvlnvlgtbpnhll\n11-12 s: brsqgfsnpmwskhdnm\n6-7 j: httjvjj\n2-14 w: wwwfwjzwrzfwnwjwwm\n8-9 w: wwrwwwwgt\n2-5 r: dvrwb\n7-9 b: wwvqbsbjb\n1-12 l: lljxlbslwlgn\n11-12 m: mmmmmmhmmmwbmkmmt\n10-11 l: lblllmllldl\n3-9 w: wwpwwwwbfwwwm\n9-10 q: pcrqfqlskz\n7-9 l: llvlllblklllx\n6-7 g: qgggjmwg\n5-10 v: vvvvvxbrvvp\n9-10 d: hqddgkkdrpdd\n17-18 q: qqqqqqqlqqqqqqqqdt\n6-10 h: hspnhhzldxphdh\n8-13 l: vvvscdnlblllml\n6-12 p: ppkrprpxwpppwx\n4-5 k: tkslb\n7-8 d: hdjdhnzdd\n9-10 x: wkxtblgxxjxxlqnfxxlx\n8-9 g: rggggggdk\n10-20 d: kcgdtbbswwdtvgdgxfwd\n3-4 g: gggggg\n16-17 l: llnzlqllllzllllmllll\n4-10 r: nsrrrbzrfzcrrzrrdqk\n4-6 k: kkkkkpkk\n4-8 n: nnnmntnnrnnn\n12-14 l: lllllllllwlqllll\n3-6 r: rrrrrrr\n1-6 s: ssskcshsxtd\n7-15 d: ndrbdnntdmkddxd\n9-10 j: pjjjjgjsjhjj\n7-10 k: pkbkkkkkgkq\n4-8 m: mmxmmmdmmmmm\n9-13 c: ngjcrcccvbcvqdjmph\n3-5 q: qqqqqq\n7-10 s: fcssnsssssslxspr\n3-5 k: kkkkvv\n5-10 f: tlbcvgwfzlf\n5-9 x: xxxxqxxxx\n2-10 q: qrprhbrhjhb\n3-4 g: gggmgg\n8-10 j: jjjjjjjgjpjjj\n2-4 v: dvzvvtfm\n7-12 q: zvzqprjhqdcqfzr\n12-13 f: ffffffffffffqf\n2-3 f: fffsdwq\n10-11 z: ztzzjzjzzzlzzz\n5-7 k: kkkkqtkkkkk\n6-9 z: dfbzhgsrzsp\n2-4 b: wpqb\n9-15 c: cwchcdhxlqzccxbb\n8-11 q: qqxptqqvqrgqg\n5-7 t: ttttztcvtjtkts\n2-6 n: nnbmdnjxclwkffrnxff\n3-7 p: pppppph\n9-12 d: xhmfndzcddfddvgddf\n1-5 h: hthmhvlthhhhh\n6-7 m: mmmmmmm\n6-7 j: jjjvjjjrj\n1-5 q: mqnqwqqqqqjq\n10-11 b: bmbbbdbpbbbbzbb\n1-4 k: gvccvdltkwcdd\n12-16 s: sssssssssssjssshs\n4-10 k: wzvlkmdhcklhdp\n10-13 z: zzzzzzzzzfzzj\n6-12 g: bmzmvvggpgtm\n3-11 m: nvcpfgvnsqmwxmmz\n1-5 n: dnwnnnnnnnbndnnn\n4-5 h: lhhhh\n4-5 g: gggdg\n2-5 h: xthqhfj\n2-4 f: lfkf\n4-6 k: rqbhrtzktmvmrxck\n4-5 q: jqdsc\n10-11 h: hhhhhhhhhvjh\n2-17 r: rrrrrrrprwrrrfjrr\n16-17 b: bbbbbbbbbbbbbbbbhbbb\n3-5 z: pkvzzfrljrjctw\n13-14 w: wwwwwwwjwwwwww\n8-10 d: dddddddldzpq\n1-4 b: sbbgb\n2-10 d: vnhpzmvpcddhs\n8-15 t: zftpwtrtqjqtfntp\n11-12 j: djjjjjjjcjjcj\n4-7 r: jrrtrrrvmzzrrvsl\n2-4 r: rpkp\n3-4 b: qbxc\n10-11 w: wwwwwwfzkdmnwwv\n6-14 z: mztxzzztmzwzzqvm\n12-14 w: wwwwwwmsgwdwsqwjwww\n6-10 f: zfhqjfhnjfdvwsfftf\n2-11 q: mwbbqdncdfq\n8-11 v: zvtvvwvfvvq\n6-8 n: xnwhzmdskwhn\n8-15 q: qqqqkqqqqqqqqqst\n1-4 n: nnnnn\n5-18 c: sqczchcwcccclccccccc\n3-4 j: klgr\n11-12 m: mmmmmmmmmmmm\n2-3 d: qdxfmqwbmdnvj\n1-5 m: cmmmm\n6-7 l: llllllll\n1-9 m: zmmmmmmmlmmmmmmm\n9-11 m: dwspwrmjsxpc\n5-6 p: qpppfz\n10-19 t: fvtphwzsptqzntbkxqt\n7-9 m: mpcmpmmmvptmm\n3-9 h: hhhpqqwhhtm\n11-16 p: pppppppppppppppvp\n1-9 k: ktkklkkkkkkk\n10-17 q: rthtqvgspqkvfkgkqfhj\n11-14 g: ggxgggggxggzggcnggg\n3-4 t: tttt\n9-10 t: sqtbdttthtttm\n1-4 t: ttkbgdzztbxd\n3-8 f: gxfcrrsfntftvffnfqff\n9-11 q: qqqqqqqjlqqq\n12-13 v: vvvvvvvvvvvvk\n7-11 b: nbxbbbsmbtkb\n7-8 k: kkkkkknn\n4-6 j: jjjjlv\n13-16 m: mmcmmmmmmmmmmmmvs\n7-9 k: kdkkkkrkgkk\n1-4 c: crcdlrdbzc\n1-16 k: kkkkkkkkkkgmkkktkkk\n2-12 l: llllrlllllllll\n4-9 g: gggbkgpgz\n6-7 q: qqqqqqjq\n6-7 v: hvvvvpm\n10-14 t: ttfxmqtgtttttbtct\n5-7 h: hwhhfrnch\n4-13 w: zdlrqvxwwzsfrfq\n4-5 h: hhhshhhh\n2-4 n: vhjfnz\n5-6 s: sssssss\n11-13 n: nnwrnnnlnngnn\n3-4 s: wbss\n3-4 s: wnss\n16-17 p: ppfprptkpmzkbjppp\n2-4 v: pvxv\n8-9 w: swwwwwwhwwnwwwxj\n4-6 s: pzhkvss\n4-5 x: wnxpx\n4-5 f: fsfwp\n4-5 z: zzdjz\n3-6 v: vnvvvvvvvvvvv\n5-6 f: wfxfff\n4-7 z: zzzqfzz\n3-5 q: qqjqsqqqf\n3-7 w: kwwkmww\n6-7 h: hhhhhhgh\n2-5 v: vvbzvvkn\n8-15 r: svrqpqrgrrhmzbms\n9-17 n: jnnnncnnnnnxnnnnnp\n5-6 n: dgnhsc\n5-7 l: lplltbv\n4-6 n: mmrnsbcqr\n7-8 w: wwjwwwwww\n1-16 c: bccccccfcccccccdcc\n6-9 l: sjnlmxwllg\n3-9 q: cqvhkwhtstwrl\n5-9 h: khvxhhhgfchhknhhhz\n8-9 c: ccccccccdc\n2-19 n: jjxbmbwmnqbblfbgzsz\n3-4 p: pppp\n1-3 b: jzxbbb\n3-6 h: hhhgjhhw\n2-8 f: vfxftzkmlzk\n11-19 h: mmdptdzhwdbjhvkccrhk\n4-14 s: sssvsdpsssssspns\n11-12 f: fffffffflfbk\n2-13 h: nhbgtbjvbpmrnhf\n1-3 t: ttttttttttttttttttm\n3-4 t: tsttr\n2-9 n: fnkknptqn\n1-8 j: qjpjjjjjjtpxjqjw\n2-12 c: clccccccccckccc\n18-19 f: dpftffzcfhqffddfpff\n1-4 j: trjj\n9-11 z: zwzmzzczsdd\n5-8 g: vrpbggfn\n2-5 k: qksvzkj\n2-4 f: wfdfjlfwmjrdmxx\n4-12 l: bnplnlgqcwql\n13-14 n: nqlfdnnnnnnnvbnwnlh\n4-8 l: dgxhsrql\n10-11 k: qvwcrkxtkjxlq\n5-6 g: ckgggg\n6-14 h: xbhhvzvxbhhhhhbhkzhh\n6-9 w: whwdwrxgc\n7-9 b: bbrbnjbfb\n7-8 w: brwwkfvwwwww\n2-11 g: gmggghngggg\n12-17 l: bgslljzntbmvtkbgllgg\n12-18 g: gggggggggggkggggggg\n1-3 l: gllllllll\n14-16 k: jkkqkkgkrkvxkkkkskgb\n2-3 v: vljvgnvm\n7-8 r: jrjvrprr\n7-8 f: xxffrnff\n2-18 j: jhjjjjjjjjjtjjfjjpjr\n8-9 q: rfllhmnqtrkv\n2-3 n: lnndv\n2-15 s: hzzsrprnnjlwdfs\n1-5 q: vqqqq\n9-18 b: gxbpbbppbrbbnlkmbb\n2-13 b: bbbbbbbbbbbbpb\n6-7 t: mtrftthtttftttztttst\n1-7 z: nfzzzzvzzczzzzzzzz\n4-12 m: mmmcmmmmmmmmmm\n9-11 p: jpswppqbmpfpzpg\n10-11 c: ccccccpcccc\n2-6 t: ztscdrkxxctdft\n3-13 q: mqfqqqqjqqfqdqqq\n16-20 z: zzjcxdmzgzzzppbtztzz\n5-15 w: wwwpwhwqcwwwwwgw\n2-4 p: pczp\n5-7 d: ddddmdfd\n2-3 f: fftc\n1-3 v: vvmv\n11-15 k: tjkcvkkkkgkzkkxqv\n4-6 b: vdkvbn\n7-8 c: wbcjhswc\n9-10 l: lllbqrllll\n4-5 s: sjnlw\n12-14 j: mjtmzfjjtsgvgtq\n1-3 l: llrllml\n12-13 d: dngddlqdtgdcd\n3-5 l: cblhld\n3-4 r: trrq\n1-3 c: kcccc\n9-10 g: bgbgjggpvgpgpggg\n3-6 d: szwlfm\n13-14 f: ffffffffffffzfff\n6-7 d: ddddddddddnnddddr\n7-16 h: xmbpwmhsznmldhnxflc\n4-6 q: qqqnqqqg\n2-7 t: ttwbpmnthmjr\n8-16 x: xbcxxbwxxrpxnfxd\n2-3 d: dngdd\n9-10 n: qkxfdljnnl\n4-5 f: ftfffff\n12-15 n: nnnnnncnnnnnnnsnn\n1-2 d: dkdd\n2-5 v: vvvvgv\n1-14 v: jvvvvvvvvvvvvmvvv\n5-6 r: rrrrrr\n2-3 b: bnvbbbtbjgxfchnkhcjb\n1-14 g: wjggxgggggggxgmrvcg\n1-6 x: bhvxhxxxx\n1-2 r: rprr\n6-7 c: cccccccqc\n4-8 b: bbgplbbcdtbbdbgbbhbz\n1-4 w: wjgw\n1-3 h: zhzzt\n2-11 j: sjjrtjkjhjj\n6-7 m: mlmrrmm")
(def test-input-2 "1-3 a: abcde\n1-3 b: cdefg\n2-9 c: ccccccccc")

(defn pre-parse-2 [input]
  (let [parse-line (fn [[range-str lett-str pass-str]]
                     (let [[int-a int-b] (map #(Integer/valueOf %) (s/split range-str #"-"))
                           [letter] (seq lett-str)]
                       [int-a int-b letter pass-str]))
        lines (map #(s/split % #"\s")
                   (s/split-lines input))]
    (map parse-line lines)))

(with-test
  (defn algo-2a [input]
    (let [lines (pre-parse-2 input)
          valid-pass? (fn [[min max letter pass]]
                        (let [char-cts (->> (seq pass)
                                            (group-by identity)
                                            (map (fn [[c cs]] [c (count cs)]))
                                            (into {}))
                              ct (get char-cts letter 0)]
                          (<= min ct max)))]
      (count (filter valid-pass? lines))))
  (is (= (algo-2a test-input-2)
         2)))

(def soln-2a (algo-2a input-2))

(with-test
  (defn algo-2b [input]
    (let [lines (pre-parse-2 input)
          valid-pass? (fn [[index-1-a index-1-b letter pass]]
                        (let [pass-vec (vec pass)
                              indices (map dec [index-1-a index-1-b])
                              matches (filter #(= letter (pass-vec %)) indices)]
                          (= 1 (count matches))))]
      (count (filter valid-pass? lines))))
  (is (= (algo-2b test-input-2)
         1)))

(def soln-2b (algo-2b input-2))

;; 3 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(def input-3 ".........#.#.#.........#.#.....\n...#......#...#.....#.....#....\n#.....#.....#.....#.#........#.\n......#..#......#.......#......\n.#..........#.............#...#\n............#..##.......##...##\n....#.....#..#....#............\n.#..#.........#....#.#....#....\n#.#...#...##..##.#..##..#....#.\n.#.......#.#...#..........#....\n...#...#........##...#..#.....#\n..................#..........#.\n.....#.##..............#.......\n........#....##..##....#.......\n...#.....#.##..........#...##..\n.......#.#....#............#...\n..............#......#......#..\n#.......#...........#........##\n.......#.......##......#.......\n................#....##...#.#.#\n#.......#....................#.\n.##.#..##..#..#.#.....#.....#..\n#...#............#......##....#\n.#....##.#......#.#......#..#..\n..........#........#.#.#.......\n...#...#..........#..#....#....\n..#.#...#...#...##...##......#.\n......#...#........#.......###.\n....#...............#.###...#.#\n..................#.....#..#.#.\n.#...#..#..........#........#..\n#..........##................##\n...#.....#...#......#.#......#.\n......#..........#.#......#..#.\n..#......#.....................\n............#.........##.......\n......#.......#........#.......\n#.#...#...........#.......#....\n.#.#........#.#.#....#........#\n#.....##........#.#.....#.#....\n.#...#..........##...#.....#..#\n.........#....###............#.\n..#...#..............#.#.#.....\n.....#.#.#..#.#.#.###......#.#.\n.#.##...#.......###..#.........\n.....##....#.##..#.##..#.......\n..#...........##......#..#.....\n................##...#.........\n##.....................#..#.###\n...#..#....#...........#.......\n.#.............##.#.....#.#....\n.......#.#.#....##..#....#...#.\n...##..#..........#....#.......\n....##......#.........#........\n.##....#...........#.#.......#.\n...#...#.##.......#.#..........\n..#.........#.##...........#...\n....#.##........#.......#...##.\n...................#..#..#...##\n#...#......###..##.#..###......\n#.............#.#........#...#.\n...#...#..#..#..............#..\n#.....#..#...#...#......#.#..#.\n...##.............#........##.#\n......#.#.........#.#....#...#.\n........##............#...#....\n............#.#...#......#.....\n...#...........#...#...........\n.........#.#......#............\n....#.............#..#.....#..#\n#.....#...........#.....#.#.#.#\n.............#.....##......#...\n...................###.#......#\n#.##.....#...#..#..#...#....#..\n............#.....#....#.#.....\n#....#..#..........#....#..#...\n..........##..................#\n....#.......###..#......###....\n.......#...#.##.##..#....##....\n...##...............#.....#...#\n#...........#...#......#..#..#.\n..##....#.......#...#.....#....\n.......##..............#.##..#.\n.#......#..........#.......#...\n....##...................#.#..#\n......#....###................#\n.#........#...........#........\n.#.....##....#..##...........#.\n##..............##...#.......#.\n......#..........#..........##.\n..#.....#.#.........####....#..\n.............#......#......#...\n..#.............#...........##.\n#.#...#........#..........##...\n...#....#.....#.....#.....##...\n......#........................\n......#..#...#......#.....#....\n......#....##.....#....#.......\n#.#......#.##..#...............\n..........#.#.##..##..#........\n......#.#..#....###.#..........\n........................#....#.\n#.#.............#....#.....##.#\n.#.#..........#.......#..#....#\n..#...#......#..#..#...#.#...#.\n...#.##...###..................\n........#.#...........#...#....\n........#..........#....#......\n#....#........#.......##.....#.\n......###...##...#......#......\n............#.......#.....##..#\n....#..#.......##......#.......\n#............##................\n...............#..#......#...#.\n.#....##...#......#............\n#...#................#.........\n..#....#..#........##......#...\n....#....###......##.#.......#.\n......#.#..#.#..#....#..#......\n....#..........#..#..#.........\n.#..#.......#......#........#..\n.......#..#..#............#....\n.............#...#....#..#.....\n..............#.#.#.........#..\n#.....##.......#....#..........\n...#.....#......#..............\n...##.#..#.#........#..##....#.\n.......#.#.....##..#...........\n.....#.#....#..................\n.#......#.###..............##..\n..#....#...#..#...##...##....#.\n..........##..#...#..#.........\n..#............#........#.#...#\n.........................#.#.#.\n......#........#.#..#......##.#\n#.#......#..#.........#........\n.....#........#......#...#.#...\n........##....##....#.#........\n....#....#.#...#...##....#..#..\n#.............#.....#..........\n#............##..#............#\n..#.#......#........#..........\n.#......#......#.#.##.##.......\n..#.....#..........#......##...\n...#......#...#.##....#.....##.\n......#......#...........#.#...\n....#........#..#..#........#.#\n....#.........#.....#...#.#.#..\n....#.....###........#.........\n.............##........#.#.....\n...#............#........#.#.#.\n......#....#.......#.#.........\n.....#................#........\n.#....#..#.#.............#...#.\n#..##...#............#......#..\n...#..#........................\n.#.#...........#.......#.......\n#....###............##.........\n...##....#.#............##.....\n.........####......#........#..\n.....#.......#.#...............\n.......#...#.###..#....#...#..#\n...#.....##..#....#..#.#...###.\n.............#........#.#.#..#.\n................#..........##..\n.......####..##..##........##.#\n..#......#..#..#.#.##..........\n#....#........#....#...###.#.#.\n........##........##.....#.....\n...........#.#...........#....#\n#.............#...........#....\n...#.........#...#....#.....#..\n..##......#...#...............#\n.............#.........#....#..\n..#...........#..#........#.##.\n.#.#......#.............##...#.\n.#......#.....##.#..#..#.......\n....##......#..................\n.#.#..##............#....#....#\n........#...##.............#..#\n........#....##.....#......###.\n.........#....#.#..............\n#.....#........................\n.#..#....#.....#......#.###..#.\n..........#...#....##....#..#..\n...#.#.#...##..#..#......#..#.#\n#............#.....#....#......\n#.###...#.#......###..#....#..#\n...#.###........#......#....#..\n..#.##...#.........#.#.........\n............##.................\n....#..........#.#.#.#.#....#..\n...##.#...#.......#.......##..#\n....##.#........#....#...#.....\n.............#.#....#...#.....#\n...#......................##...\n..#...#.....#.....#........#..#\n..#..#.......#....#..##.....#..\n..#..#.#.......................\n.......##..#....#....#..#......\n....#......##....#............#\n.#...#..#..#.##...#.#...#......\n.....#......#....#.........#...\n.##......##.........#....#.....\n#...........#...##.....#......#\n.....#.#.......#.........#.....\n.........#..........#..####.##.\n............#..#......#.#......\n.#.............#........#.#....\n......#......#...#..#....#####.\n.........##.#..##...###..#....#\n....#.#....#.#..#.........#....\n..#.............#...##...##....\n........#..........#.##..#....#\n.....#...#..##........#.#..#...\n##..#.#.....#............#.....\n.............#........##...##..\n#......####.....##.............\n..##.....##....###..#.#....#...\n......##.##.#...#..#.#..##.....\n......#.................#......\n#.....#.#...#......#.#....#....\n....#.#........#..............#\n##........#.......##.#...##...#\n..#..................#.#....#..\n...........#..........#.#.....#\n........##.#.....#......#..#..#\n.....#....#..#.....#.........##\n#.#..#..#...#......#..........#\n#...##.....#..#.#.......#.##...\n..#....##...............#......\n#..........#.#.........#.#....#\n..............#......#....#....\n.....#...........#...#...#...#.\n...#......#....#....#..........\n.#..........#.#....##..##....#.\n..............#.........#.#....\n.......#.....#.....#...##....#.\n##.#.........#....#.....#.#....\n....#..#......#................\n......##.....#.......##........\n.....##...#........#...#...#...\n..#...#...#..#..#.#......#..#..\n....#...#.......#..............\n....#..#.........###........#..\n....#.............##..#........\n..........##.#.......##..##....\n#.##..................#.....#..\n#........#........#.....#......\n.#...#......#..................\n#....##.##......#...#.........#\n......#.##..##................#\n............#.........##.......\n..........####.#........#.....#\n.##...#...#....#..#............\n.#.##...#..#...#......#......##\n.....#.#....#..###......#.#.#..\n...#.......................##..\n......................#.......#\n..#....#.........#..#.#.....#..\n.#....#..#....#...#............\n..........#...##.....#.#..#....\n........#..#..#....#...#...#...\n.....#......#.#................\n.....#...........#...#.........\n.....#...##..#.#....#..#.....#.\n#.......#.............##.......\n................#....#.#..#....\n.#..##...#.#........#......#.#.\n.#.##..........#...............\n....##......#....#........#....\n....#..#....#.##.#.............\n.......#..#......##.#.....#....\n.......#.....#.............#...\n.....#....#.......#............\n........#.#...##..##..##.......\n#.........##....##...##........\n........#..#.#..........###.#..\n..........................#.#..\n#.....#.......#..#........#....\n...##.....#.......#......#.....\n.#.#..#...........#...........#\n.....##..#........#...####.....\n.#.#...##.#.#..#..#.#..#.......\n..#.##.#...#.#.#...#..#........\n............#..........#..#....\n...............#..##.#.........\n.............#.....#....#......\n...##..##......##..........#...\n..#.......#....#..........#...#\n.##................#.#.#.......\n.....##.....#..#.....#.........\n......#.#.......#......#..#....\n.....#.....#........#.......##.\n......#.......##......#...#...#\n....#...........###.........#..\n...#.....#.........##........#.\n..#.....#..............#.......\n....#.......#...#....#....#..##\n......#...........#...........#\n.##......#......#.#.....#.##...\n....#..##......#...#..#.#.###..\n.......#.#....#......#..#......\n..........#........#...........\n#.##.........#.#.#...#...#.#...\n.#......###.....#....#.#....#..\n...................##..#.......\n....#..#..............#.#.....#\n#..................#.....#.....\n...........##.##.......#..#.#..\n........#.#......#...........#.\n#..#.......#...#...........#.#.\n......##...........#...........\n.........#.#........#........#.\n#......#....#.#.....#..#.......\n............#..#.....##...#....\n.#......#..#......#.........#..\n.......#...#.........#.##.....#\n........................#..#...\n.###..............#.#..#.......\n.....#.........#.......#......#\n..##..##....#.....#.......#.#..\n...###.#..#.##............#....")
(def test-input-3 "..##.......\n#...#...#..\n.#....#..#.\n..#.#...#.#\n.#...##..#.\n..#.##.....\n.#.#.#....#\n.#........#\n#.##...#...\n#...##....#\n.#..#...#.#")

(defn pre-parse-3 [input]
  (->> (s/split-lines input)
       (map vec)
       (vec)))

(with-test
  (defn algo-3a
    ([input] (algo-3a input [1 3]))
    ([input [slope-r slope-c :as slope]]
     (let [board (pre-parse-3 input)
           height (count board)
           width (count (first board))
           coords (->> (iterate (fn [[r c]]
                                  (let [[r' c'] (map + [r c] slope)
                                        c' (mod c' width)]
                                    [r' c']))
                                [0 0])
                       (take height))]
       (reduce (fn [ct coord]
                 (let [spot (get-in board coord)]
                   (if (= spot \#) (inc ct) ct)))
               0
               coords))))
  (is (= (algo-3a test-input-3)
         7)))

(with-test
  (defn algo-3b [input]
    (let [slopes [[1 1] [1 3] [1 5] [1 7] [2 1]]
          trees (map (partial algo-3a input) slopes)]
      (apply * trees)))
  (is (= (algo-3b test-input-3)
         336)))


(def soln-3a (algo-3a input-3))
(comment (prn soln-3a))

(def soln-3b (algo-3b input-3))
(comment (prn soln-3b))


;; 4 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(def test-input-4 "ecl:gry pid:860033327 eyr:2020 hcl:#fffffd\nbyr:1937 iyr:2017 cid:147 hgt:183cm\n\niyr:2013 ecl:amb cid:350 eyr:2023 pid:028048884\nhcl:#cfa07d byr:1929\n\nhcl:#ae17e1 iyr:2013\neyr:2024\necl:brn pid:760753108 byr:1931\nhgt:179cm\n\nhcl:#cfa07d eyr:2025 pid:166559648\niyr:2011 ecl:brn hgt:59in")
(def input-4 "byr:1971\neyr:2039\nhgt:172in pid:170cm hcl:17106b iyr:2012 ecl:gry\ncid:339\n\nhgt:161cm eyr:2027\necl:grn iyr:2011 hcl:#a97842 byr:1977 pid:910468396\n\ncid:257\necl:gry hgt:186cm iyr:2012\nbyr:1941\neyr:2029\npid:108935675\nhcl:#cfa07d\n\nhgt:165in\nhcl:#cfa07d eyr:2035 pid:82570731\nbyr:1973\ncid:74 ecl:xry\n\neyr:2020 cid:105 iyr:2012 pid:947726115\nhcl:#ceb3a1 ecl:grn byr:1966 hgt:151cm\n\nhcl:#888785 eyr:2027 ecl:hzl byr:1966\npid:853607760\niyr:2012\nhgt:155cm\n\nhgt:61cm\niyr:2019\nbyr:1952 pid:#1468e6 eyr:2033 ecl:#7d39d5 hcl:z\n\npid:2306523501\neyr:2032 hcl:z ecl:brn\ncid:266 hgt:151in iyr:2024\nbyr:2008\n\nhcl:#a97842 hgt:191cm eyr:2025 ecl:gry byr:1923 pid:574171850 iyr:2019\n\nhgt:140\niyr:1987 byr:2003\neyr:2013 cid:242 hcl:z\necl:#19177c pid:150cm\n\nbyr:1959\nhgt:169cm hcl:#7d3b0c ecl:gry eyr:2028 cid:107 pid:584790749\n\nbyr:1955\ncid:309\nhcl:#a97842\npid:740105085 iyr:2020\nhgt:188cm ecl:oth eyr:2029\n\niyr:2016 hcl:#cfa07d eyr:2026\nhgt:151cm\npid:394185014 ecl:grn byr:1974\n\npid:226566060 ecl:blu cid:272 hgt:188cm hcl:#efcc98\neyr:2029 iyr:2014\nbyr:1956\n\npid:#7c7a9d ecl:#8fa327\neyr:2006 iyr:2022\nhcl:#7d3b0c hgt:169\nbyr:2025\n\nhgt:188in byr:2015 ecl:xry\niyr:1975\neyr:1928\npid:8939875193 hcl:7bbcce\n\nhgt:193cm\neyr:2029\npid:141707808 byr:1997\ncid:83 iyr:2019\necl:hzl hcl:#cfa07d\n\niyr:2019\npid:681586971\nhcl:#6b5442 hgt:165cm\neyr:2022 ecl:brn byr:1985\n\nbyr:1970\niyr:2016 hgt:156in pid:#e32394 eyr:2024\nhcl:#efcc98 ecl:grt\n\niyr:2013\necl:grn pid:341584587 eyr:2027 hgt:185cm hcl:#18171d\nbyr:1935\ncid:113\n\nhcl:#fffffd ecl:grn iyr:2010\npid:738986504 hgt:98 eyr:2024\nbyr:1968\n\npid:175337478 ecl:oth hgt:173cm hcl:#733820\neyr:2025 byr:1960\ncid:283 iyr:2018\n\nbyr:1959\nhcl:#341e13 eyr:2023\npid:566612260 hgt:176cm\niyr:2017 ecl:grn\n\ncid:321 pid:355095309 byr:1945\nhgt:161cm\neyr:2029 iyr:2017\necl:brn hcl:#733820\n\nhcl:#c0946f pid:75316487 iyr:2013 cid:201 hgt:152cm ecl:lzr byr:1996 eyr:1928\n\nhgt:160cm iyr:2010 hcl:#a018b9\neyr:2024 ecl:amb\ncid:347\n\neyr:2021\npid:893047101 iyr:2016 ecl:hzl hcl:#866857 byr:1988\nhgt:166cm\n\nhcl:#7d3b0c\necl:blu pid:085336099 eyr:2024\niyr:2019 hgt:178cm byr:1999\n\necl:grt iyr:2022\nhcl:z\nhgt:192cm byr:2010\n\npid:677187953 eyr:2025 iyr:2020 hgt:163cm byr:1957 ecl:grn hcl:#cfa07d\n\ncid:213\nbyr:1987\npid:113078018 ecl:blu iyr:2013 eyr:2022\nhcl:#7d3b0c hgt:157cm\n\necl:blu hcl:#c0946f hgt:186cm\nbyr:1992 eyr:2028 iyr:2010\n\npid:#b01156 hgt:67\nbyr:2014 ecl:#35dca0 eyr:1922 hcl:790130\n\nhcl:#602927\necl:blu hgt:173cm byr:1974 pid:116377061 cid:294 eyr:2030 iyr:2010\n\nhgt:151cm eyr:2022 iyr:2011 ecl:blu byr:1987 hcl:#733820\npid:#b90d2e\n\ncid:188\nbyr:1990\nhcl:#602927 iyr:2026\npid:530373696\nhgt:154cm ecl:gry\neyr:2029\n\nhgt:178cm eyr:2027\nhcl:#733820\necl:grn iyr:2014 pid:575371227 byr:1965\n\nhcl:#fffffd iyr:2020\nhgt:185cm ecl:amb pid:692760311\nbyr:1961\n\nbyr:1967 pid:397518948 ecl:lzr iyr:2015 hcl:#cfa07d cid:328\nhgt:177cm eyr:2035\n\nhcl:#8e1608\npid:554618249 iyr:2010 hgt:176cm cid:220\necl:brn byr:1928 eyr:2029\n\neyr:2030\necl:oth cid:177 hcl:#602927\niyr:2010 hgt:66in\npid:915661465 byr:1992\n\necl:brn pid:558826437 hgt:151cm byr:1936 hcl:#fffffd\neyr:2021 iyr:2012\n\neyr:2033\niyr:2019 hgt:190cm byr:1953\nhcl:#6b5442\npid:584941735 ecl:hzl\n\nhgt:71cm\nbyr:2015 iyr:2025\necl:#663b65 eyr:2039 hcl:z pid:62548949\n\necl:hzl byr:1943\niyr:2020 hgt:175cm pid:830628564 hcl:#7d3b0c eyr:2021\n\nhgt:182cm byr:1951 cid:175 eyr:2021 pid:635966127 ecl:blu iyr:2014 hcl:#18171d\n\nhcl:#733820 iyr:2011 pid:581100835 eyr:2022 ecl:grn byr:1985 hgt:192cm\n\niyr:2013\necl:grn\nhgt:185cm hcl:#a97842 byr:1981 eyr:2029 pid:711625030\n\nbyr:1995\npid:326992839\niyr:2015\neyr:2028 hcl:#733820 ecl:hzl\n\nhgt:160\neyr:2037 ecl:#6b6b83\ncid:123 iyr:2028\npid:7692333345\nhcl:z byr:2029\n\nhcl:#6b5442 iyr:2030\nhgt:165cm byr:2028 ecl:#21516d\neyr:2039\npid:182cm\n\nhgt:159cm iyr:2018 pid:610521467 eyr:2028 ecl:amb byr:1934 hcl:#602927\n\necl:blu\nhcl:#09d9a5 hgt:162cm iyr:2020\neyr:2025 byr:1971 pid:406714780\n\nhgt:179cm eyr:2022 hcl:#18171d\necl:blu pid:314891131 iyr:2015\nbyr:2002\n\nhcl:#623a2f hgt:181cm pid:442693333 byr:1990 ecl:grn eyr:2027\niyr:2011\n\niyr:2022 eyr:1939\npid:557187110 hcl:#18171d hgt:60cm ecl:#d6ac04 byr:1984\n\necl:grn byr:1948 hgt:174cm pid:438876745 cid:321\niyr:2018\nhcl:#866857 eyr:2023\n\nhgt:189cm iyr:2012 hcl:#602927 pid:978388052 ecl:brn\neyr:2030\n\necl:amb cid:235\nbyr:1938\npid:315825546 hcl:#ceb3a1 eyr:2029\niyr:2013 hgt:171cm\n\necl:dne hcl:z\nhgt:76cm byr:2010\ncid:185 eyr:2001\n\nhcl:#733820 byr:1988 pid:558453117\nhgt:66in\necl:oth iyr:2010 eyr:2021\n\nbyr:1926 pid:796557821 cid:155 hcl:#efcc98\nhgt:159cm eyr:2023 ecl:oth iyr:2016\n\nbyr:2023 eyr:2031 hcl:0ba99a pid:14902250\nhgt:132 ecl:#9b89b1 iyr:2017\n\nhcl:#a97842 byr:1926\ncid:205\necl:blu\niyr:2016 hgt:159cm eyr:2029\n\nbyr:1939 hcl:#866857\npid:025607627 hgt:174cm cid:309 eyr:2026 ecl:brn\n\necl:hzl pid:805133506\niyr:2014\nbyr:1991\nhcl:#cfa07d\ncid:350\nhgt:190cm\n\nhgt:155cm byr:1941 eyr:2024\ncid:164 hcl:#602927 iyr:2013 pid:531781358 ecl:amb\n\nhcl:#72a068 hgt:164cm\npid:621006770\necl:brn\neyr:2029 byr:1969\n\nbyr:1991\necl:grn iyr:2020\npid:9921729009 eyr:2029 hcl:#623a2f\nhgt:62in\n\niyr:2017 ecl:hzl\npid:768217275 eyr:2020 byr:1937\nhcl:#866857 hgt:157cm\n\ncid:270 byr:1993 hcl:#733820 ecl:hzl pid:722650020\nhgt:174cm iyr:2010\neyr:2021\n\nhcl:#c0946f ecl:blu\nhgt:154cm\neyr:2022 byr:1929 pid:357023679 iyr:2010\n\necl:hzl\niyr:2013 hgt:165cm byr:1979 eyr:2023 hcl:#733820 pid:008734536\n\nhcl:#341e13\neyr:2030 byr:1993\niyr:2014 hgt:193cm\ncid:346\necl:blu pid:536339538\n\neyr:2030\necl:hzl\ncid:296 pid:660062554 hcl:#efcc98\nbyr:1977 hgt:179cm\niyr:2010\n\ncid:119 pid:498520651 hgt:159cm\neyr:2029 iyr:2015 hcl:#18171d\necl:gmt\nbyr:1950\n\neyr:2025 iyr:2010 hcl:#efcc98 pid:196372989 hgt:181cm byr:1952 ecl:oth\n\ncid:317\neyr:2026 ecl:blu hcl:#733820\nhgt:184cm\npid:549730813 byr:1927 iyr:2018\n\npid:591769824\nhgt:180cm\nbyr:1920\necl:blu\neyr:2021 hcl:#cfa07d iyr:2017\n\npid:988946348 hgt:183cm cid:117 byr:1955 ecl:blu\niyr:2015 hcl:#623a2f eyr:2029\n\niyr:2014\neyr:2026 hgt:184cm\necl:oth\nhcl:#7d3b0c pid:252101860\n\nbyr:1995\nhgt:182cm ecl:brn hcl:#6b5442\niyr:2012 eyr:2028 pid:482757872\n\niyr:2017 cid:333 ecl:gry hcl:#623a2f hgt:157cm eyr:2021\npid:487895819\nbyr:1951\n\nhcl:#fffffd\nhgt:193cm eyr:2025 byr:1927 iyr:2014 ecl:oth pid:989206297\n\neyr:2030 ecl:brn hcl:#18171d hgt:193cm\niyr:2013 byr:1953 pid:862636088\n\nhcl:#fffffd\npid:204286737 ecl:gry byr:1923\nhgt:181cm\niyr:2015\neyr:2023\n\ncid:288 pid:413935643 ecl:gry\niyr:2012\nhgt:171cm\nhcl:#623a2f\neyr:2020 byr:1943\n\nbyr:2023 hcl:#c0946f\necl:oth\npid:182634296 eyr:2009\ncid:306 hgt:183cm\niyr:2029\n\neyr:2026 ecl:hzl byr:2003\niyr:2027 pid:734296691 hgt:188cm hcl:#fffffd\n\nhcl:#18171d ecl:gry pid:401957684 eyr:2020\niyr:2017 cid:141 byr:1944 hgt:74in\n\necl:grn hcl:z\npid:335097003 byr:1925\nhgt:170in iyr:2020 eyr:2022\n\npid:727198487\nhgt:173cm\ncid:323 hcl:#18171d iyr:2012 eyr:2024\nbyr:1995 ecl:blu\n\necl:amb hcl:#602927\npid:460274414\nhgt:76in byr:1995\niyr:2020\neyr:2028\n\nbyr:2002 ecl:oth pid:101164770\nhgt:172cm hcl:#fffffd eyr:2023 iyr:2016\n\necl:blu hcl:#888785 iyr:2016 pid:031162631 eyr:2025 hgt:186cm\nbyr:1959\n\necl:blu pid:093242619 hgt:188cm byr:1970\neyr:2025\nhcl:#6b5442\niyr:2020\n\nbyr:1990 eyr:2025 ecl:grn\npid:907309460\niyr:2011 hcl:#602927 hgt:62in\n\npid:346468647 eyr:2021\necl:oth hgt:169cm\niyr:2010 cid:233\nhcl:#b6652a byr:1977\n\npid:904834317 iyr:2011\nhcl:#b6652a eyr:2028 cid:281\nbyr:1944 hgt:187cm ecl:gry\n\neyr:1988 pid:663941602\nhgt:156in\nhcl:#fa2e93 iyr:2015 ecl:gry byr:1953\n\nhgt:184cm cid:107 pid:094829817\necl:gry byr:1998 eyr:2023 iyr:2017\n\neyr:2020 ecl:gry byr:1955 hcl:#a97842 pid:553841536\n\nhgt:185cm eyr:2022 hcl:#341e13 ecl:oth byr:1934 pid:863541754 cid:178\niyr:2016\n\neyr:2029 iyr:2014 byr:1937 cid:232 hgt:177cm hcl:#fffffd ecl:blu\npid:076753558\n\nhcl:#cfa07d\nhgt:168cm\necl:grn\npid:664159349 eyr:2028 iyr:2017 byr:1972\n\nhcl:#a97842\nbyr:1987\neyr:2020 hgt:182cm\niyr:2018\necl:brn pid:560272731\n\nhgt:172cm cid:125 ecl:blu pid:291640184\nbyr:1926\niyr:2014 hcl:#ceb3a1\n\niyr:2027 hgt:84 hcl:z\necl:#b68fec\npid:809408661\nbyr:2018 eyr:1927 cid:87\n\npid:951007276 cid:260 eyr:2025\necl:brn iyr:2015 byr:1957\nhcl:#4b8216 hgt:161cm\n\npid:359973697 hcl:#6b5442\neyr:2022 hgt:169cm\nbyr:1965 ecl:brn iyr:2013\n\niyr:2012 hgt:65in eyr:2024 pid:842371195\necl:amb\nhcl:#341e13 byr:2000\n\necl:hzl hgt:170cm byr:1950\ncid:289 eyr:2037 iyr:2021 hcl:#18171d pid:389051819\n\nhgt:159cm\necl:amb hcl:#c0946f eyr:2020 pid:010539976 iyr:2011 byr:1921\n\nhgt:176cm cid:270 pid:838338992\neyr:2024 hcl:#866857\necl:amb iyr:2015 byr:1982\n\necl:blu\ncid:246 hgt:185cm\nbyr:1987\nhcl:#fffffd pid:042361456 eyr:2022\niyr:2010\n\nhgt:164cm\npid:881486702 ecl:brn byr:1969 hcl:#c0946f\niyr:2010 eyr:2030\n\niyr:2019 hcl:#6b5442 hgt:167cm\necl:amb\ncid:207 byr:1922\neyr:2025 pid:343956182\n\necl:oth iyr:2012\nhgt:158cm\neyr:2024 hcl:#602927 byr:1964\n\nbyr:1988 pid:030965463 hgt:154cm\necl:gry eyr:2020 cid:227\niyr:2012\nhcl:#3edc53\n\nhgt:178cm hcl:#c0946f byr:1945 ecl:amb eyr:2030\n\nhgt:158cm pid:270264980 eyr:2027 iyr:2016 byr:1928 cid:259\necl:gry hcl:#733820\n\nbyr:2026 hgt:164in cid:235 ecl:xry\nhcl:z pid:2517730699\neyr:2033 iyr:2024\n\necl:grn hgt:69cm pid:1321222581 byr:1987\neyr:2035\niyr:2018 hcl:#fffffd\n\nhcl:#733820 cid:244\necl:gry iyr:2013 eyr:2028\npid:794178180 hgt:74in byr:1923\n\nhcl:#a97842 byr:1934 ecl:hzl eyr:2027\npid:401882857\niyr:2018 hgt:185cm\n\niyr:2018\npid:665564950 byr:1990 ecl:hzl\nhgt:154cm\neyr:2026 hcl:#623a2f\n\nhcl:#602927 cid:189 byr:1967 pid:332861702 eyr:2021\nhgt:163cm\necl:amb\n\necl:grn pid:734161280 hgt:184cm\niyr:2018 eyr:2020 byr:1929 hcl:#a97842\n\niyr:2018 byr:1925\neyr:2022 hgt:193cm ecl:hzl\nhcl:#341e13\npid:008582320\n\nbyr:2025 ecl:dne hgt:167cm pid:48963526\niyr:2025 hcl:z\neyr:2034\n\nhcl:#cfa07d ecl:hzl eyr:2029 cid:194 byr:1936\niyr:2020\nhgt:186cm\npid:328573727\n\niyr:2011 hgt:188cm pid:338435675 cid:326 ecl:gry\neyr:2027\nhcl:#6b5442\nbyr:1958\n\npid:165cm\nhgt:70 iyr:1996\neyr:2034 cid:210 hcl:z ecl:#75606f byr:2027\n\nhgt:180in hcl:#a0515a pid:#97a753\nbyr:2026 iyr:2016\neyr:1995\n\neyr:2020\nhcl:#18171d byr:1978 iyr:2012 hgt:68in\necl:amb cid:346 pid:332495922\n\necl:blu hgt:61in pid:747650669\nbyr:1961 eyr:2028\niyr:2020\nhcl:#4992f2\n\nbyr:1958 iyr:2017 ecl:oth\nhgt:153cm\nhcl:#602927 eyr:2023 pid:108391213\n\nbyr:1976 eyr:2023 iyr:2015 hgt:177cm pid:391628371 hcl:#8069c4\necl:grn\n\npid:910402636 ecl:gry hgt:188cm byr:1924 hcl:#82dfdc eyr:2029\n\nbyr:1978 pid:302223240 iyr:2017\nhgt:174cm\nhcl:#6b6569 ecl:blu eyr:2027\n\ncid:135\nbyr:1995 iyr:2015 ecl:oth pid:054611703\neyr:2023\nhcl:#7d3b0c hgt:75in\n\necl:grn\neyr:2020 hgt:184cm pid:444944678 iyr:2019 hcl:#efcc98\n\nbyr:1946\nhgt:70in eyr:2022 hcl:#6b5442 ecl:amb iyr:2018 pid:859762925\n\nbyr:1995 eyr:2022\necl:grn pid:575081777\nhcl:#341e13\nhgt:183in iyr:2018\n\neyr:2028 hgt:162cm byr:1989 hcl:#0bd11f\niyr:2020 ecl:gry\npid:073498924\n\niyr:2014\npid:122787281 byr:1982 cid:138 eyr:2021 hcl:#866857 ecl:hzl hgt:184cm\n\ncid:198 byr:2014\npid:5529128129\nhgt:185in\niyr:2025\nhcl:z\neyr:2023\necl:gmt\n\neyr:2021 hgt:170cm\ncid:74\niyr:2019 pid:943445928 byr:1980\necl:oth hcl:#ceb3a1\n\niyr:2020 eyr:2030 pid:201122734 cid:246 hgt:169cm ecl:grn hcl:#fffffd byr:1962\n\npid:025560194\nbyr:1989\nhcl:#cfa07d hgt:182cm ecl:blu eyr:2025 iyr:2012\n\nhgt:151cm\nhcl:#efcc98 ecl:blu\nbyr:1983 eyr:2023 pid:814513328 iyr:2013 cid:73\n\nbyr:1961 pid:536384108 hgt:188cm ecl:amb iyr:2013 eyr:2027 hcl:#888785 cid:121\n\npid:364607819\neyr:2024 ecl:amb hcl:#b6652a iyr:2016\nbyr:2000 hgt:187cm\n\nhcl:z eyr:1956 iyr:2028\nhgt:168cm cid:105\nbyr:2026\necl:#5b17d3\n\ncid:207 pid:913509058 ecl:brn byr:2001 eyr:2026\nhcl:#866857 iyr:2019\nhgt:180cm\n\npid:363979129\neyr:2027 iyr:2013\necl:gry hcl:#866857 byr:1957 hgt:62in\n\nbyr:1932\neyr:2027\nhgt:66in ecl:hzl hcl:#efcc98 pid:417620217 iyr:2013\n\niyr:2013 cid:331 hgt:192cm\nhcl:#d896d9 pid:795744816 byr:1935\n\nbyr:1960 hcl:#888785 hgt:176cm ecl:hzl pid:025206542\niyr:2015 eyr:2030\n\necl:oth hgt:182cm\nhcl:#341e13\npid:526568190 iyr:2018 cid:280 byr:1997\neyr:2028\n\nhgt:186cm pid:273625601 byr:1993 iyr:2018 eyr:2021 hcl:#733820\necl:blu\n\nhgt:74cm\nbyr:1981 eyr:2024\necl:amb iyr:2012 pid:154027492 hcl:#733820\n\nhcl:#a97842 pid:347084450 ecl:oth\neyr:2030 hgt:176cm byr:1955 cid:229\niyr:2013\n\nhcl:#fffffd byr:1979 iyr:2017\npid:183840860 hgt:177cm ecl:blu eyr:2023\n\npid:045246162 eyr:2021 byr:1928 hgt:190cm ecl:gry hcl:#602927\n\npid:273620987\neyr:2022 hgt:162cm\ncid:269\nbyr:1991 hcl:#602927 ecl:amb iyr:2019\n\npid:621069556 ecl:amb\ncid:202 byr:2020 hgt:189cm\niyr:2014 hcl:#fffffd\neyr:2027\n\neyr:2022 byr:1988\nhgt:190cm\npid:349839553 hcl:#602927 iyr:2018 ecl:gry\n\niyr:2014 ecl:gry\nhcl:#733820 eyr:2025 hgt:179cm pid:231854667 byr:1984\ncid:102\n\neyr:2020\npid:509400891 hcl:#cfa07d hgt:172cm\necl:grn byr:1997 iyr:2020\n\niyr:2017 byr:1994 hgt:174cm ecl:amb\npid:685743124\nhcl:#fffffd eyr:2029\n\niyr:2012 hgt:177cm byr:1999 pid:549190825 hcl:#b6652a eyr:2028 ecl:oth cid:316\n\nhgt:192cm ecl:grn byr:1924\niyr:2011 eyr:2029 hcl:#efcc98\npid:215962187\n\niyr:2011 hcl:#866857\ncid:164\nhgt:184cm\necl:gry eyr:2023 byr:1959 pid:204093118\n\nhgt:172cm ecl:hzl hcl:#3f2f3a pid:623470811 byr:1938 iyr:2013 eyr:2022\n\nhcl:#b6652a\niyr:2019 hgt:152in\necl:oth\npid:189008850 byr:2006\n\necl:oth hcl:#602927\npid:049746898 byr:1924 hgt:150cm eyr:2026\niyr:2014\n\necl:oth\neyr:2028 byr:2018 hcl:#733820\npid:8676207205 iyr:2018\nhgt:190cm\n\neyr:2023 cid:308 hgt:170cm ecl:oth iyr:2014 hcl:#18171d pid:874405208 byr:1936\n\neyr:2021 ecl:hzl\npid:423603306\nhcl:#c0946f cid:147\nbyr:1988 iyr:2016 hgt:164cm\n\nhgt:176cm iyr:2010\nhcl:#6b5442 cid:280 byr:1988 ecl:hzl pid:967151288 eyr:2028\n\ncid:299 hgt:163cm ecl:gry\npid:561439154 eyr:2023\nhcl:#cfa07d iyr:2019 byr:1959\n\npid:635547007\necl:blu\nbyr:1996 hcl:#7d3b0c cid:280 eyr:2023\nhgt:170cm iyr:2017\n\nhcl:#888785 iyr:2014\necl:brn\nhgt:190cm byr:1941 eyr:2021\n\nhcl:#c0946f cid:199 hgt:162cm ecl:amb pid:130696599 eyr:2022 iyr:2018 byr:1948\n\ncid:314 hcl:#a4fc09 ecl:hzl iyr:2019\npid:886849824 eyr:2026 byr:1933 hgt:178cm\n\nbyr:1996 iyr:2016 eyr:2030 hgt:169cm\npid:119207760\nhcl:#ef542c\necl:brn\n\niyr:2030 eyr:2039 hcl:#c0946f pid:#7336a0 hgt:182cm cid:347\necl:#c81361 byr:2003\n\npid:727812879 iyr:2013 eyr:2027 hgt:172cm\nhcl:#7d3b0c ecl:gry byr:1966\n\nhcl:#341e13\niyr:2016 pid:744997238\ncid:322\nbyr:1973\necl:hzl eyr:2028 hgt:190cm\n\nhgt:171cm eyr:2026\niyr:2014 ecl:oth\npid:074049558 hcl:#04083f byr:1923\n\npid:973713235\neyr:2021\necl:brn\nbyr:1922 hcl:#fffffd iyr:2012\nhgt:178cm\n\necl:#10165d\ncid:201 eyr:2026 pid:#ceefa8 byr:2020\nhgt:164cm iyr:2011\nhcl:9fccf7\n\necl:blu\nhgt:165cm iyr:2012 eyr:2025 pid:775787557\nbyr:1952 hcl:#623a2f\n\npid:6186829005 ecl:lzr hcl:z hgt:69in iyr:2021 byr:2018 eyr:1974\n\npid:824641755 eyr:2028 byr:1950 hgt:184cm\nhcl:#c0946f\niyr:2014\n\nhcl:#7d3b0c cid:84 hgt:187cm iyr:2015\npid:895876610\nbyr:1988 eyr:2023\n\nhcl:#fffffd\nhgt:157cm iyr:2020 eyr:2030 ecl:grn pid:486236241\n\niyr:2010\neyr:2029\nhgt:74in ecl:hzl byr:1926 pid:348573885 hcl:#9d1214\n\nhgt:171cm ecl:oth\neyr:2022 pid:148728436 byr:1993 hcl:#a97842 iyr:2013\n\niyr:2019\nhgt:151cm\neyr:2020 pid:319882814 ecl:grn byr:1966 cid:256 hcl:#3107b3\n\nhgt:184cm ecl:grn\nbyr:1947\neyr:2025 iyr:2015 pid:827962962 cid:62 hcl:#f3a364\n\niyr:2013\nhcl:#fffffd pid:215012801 ecl:amb eyr:2024\nhgt:154cm\nbyr:1973\n\necl:hzl hgt:152cm\nhcl:#623a2f\nbyr:1944 eyr:2022 pid:295632731\ncid:243 iyr:2019\n\necl:brn\niyr:2011 pid:089250747 byr:1984 hcl:73e739 cid:253 hgt:161cm eyr:2021\n\nhcl:#18171d byr:1944 pid:732054667 eyr:2021\necl:oth hgt:173cm\n\necl:gry pid:445116331\nhcl:#a97842\nhgt:187cm eyr:2026 iyr:2020 byr:1992\n\nhcl:80c091 pid:745555899\niyr:2021\nhgt:170cm\nbyr:1990\n\npid:058987865 byr:1927 cid:209\nhcl:#65ccf6 eyr:2025\necl:brn iyr:2012 hgt:164cm\n\nhgt:67cm\nbyr:2026 hcl:f8e749 iyr:2023 eyr:1921 ecl:lzr\n\neyr:2028 iyr:2013 pid:103268377 hgt:179cm byr:1922\necl:hzl\nhcl:#7d3b0c\n\nbyr:1923 ecl:gry hgt:167cm hcl:#7fc8ee iyr:2015 pid:427963077 eyr:2024\n\nbyr:1927 ecl:grn pid:741328150\neyr:2029 hcl:#733820\niyr:2015 hgt:157cm\n\nhgt:70cm hcl:e76970 iyr:1945 cid:186\nbyr:1921 eyr:2029\npid:823622634\necl:zzz\n\nhgt:61cm cid:87 hcl:d5e5ff\neyr:2024 ecl:dne pid:182634269\niyr:2029\n\nhcl:#623a2f eyr:2020 byr:1936 ecl:gry pid:236984204\niyr:2011 hgt:156cm\n\npid:872645776\nbyr:2023\ncid:220 ecl:blu hgt:172cm eyr:2033\niyr:2010 hcl:ff82f9\n\npid:774489073 iyr:2013 byr:1922 ecl:brn eyr:2025 hcl:#18171d hgt:163cm\n\neyr:2024 hgt:65in byr:1962 iyr:2019\npid:112233558 hcl:#888785 ecl:grn\n\nhgt:172cm eyr:2022\nhcl:#18171d ecl:blu\npid:609008608 iyr:2013\ncid:244 byr:1980\n\ncid:124 hgt:175in eyr:2025\nhcl:674e80 pid:099875931 iyr:1956\n\nbyr:1926 hgt:188cm\necl:hzl eyr:2021\niyr:2018\nhcl:#866857 pid:557800355\n\nbyr:1939 pid:200409089\neyr:2026 hgt:164cm\necl:grn iyr:2013\nhcl:#733820\n\ncid:73 hgt:169cm iyr:2016 byr:1976 ecl:gry eyr:2024\npid:043453462\n\npid:609818712 hcl:#733820 byr:1958\neyr:2025 hgt:187cm iyr:2017 ecl:gry\n\nhgt:66in pid:618590610 iyr:2013 byr:1938 hcl:#d1bda9\neyr:2022\necl:grn cid:69\n\nhgt:156cm pid:755742405\nbyr:1929 hcl:#6b5442 eyr:2024\niyr:2018\necl:gry\ncid:105\n\neyr:2030 pid:77022842\nhgt:160cm byr:1989\niyr:2011 hcl:#7d3b0c ecl:blu\n\niyr:2015\nhcl:#341e13 byr:1968 pid:434159843\necl:amb hgt:150cm\neyr:2030\n\nhcl:z eyr:1993 pid:#b3a5a6 iyr:1947 hgt:176in\necl:#78876d\n\ncid:249 hcl:#cfa07d\nhgt:180cm ecl:gry eyr:2026 byr:1965\npid:048327438 iyr:2010\n\npid:136468890 ecl:gry\nbyr:1940\nhcl:#fffffd hgt:185cm iyr:2016 eyr:2021\n\nhcl:#b6652a hgt:180in byr:1976 eyr:2022 pid:156cm ecl:#737836\niyr:2013\n\necl:amb iyr:2016 hgt:162cm byr:1955 pid:193cm eyr:2028 cid:346\nhcl:#733820\n\niyr:2010 byr:1932 eyr:2025 ecl:grn\npid:595837820\nhcl:#341e13\nhgt:166cm cid:224\n\npid:481646831\neyr:2029\nhcl:#623a2f cid:319 iyr:2016\necl:brn hgt:160cm byr:1944\n\necl:zzz pid:428329840 cid:238 iyr:2022 hgt:76cm\nhcl:#a97842\nbyr:2024 eyr:2028\n\niyr:2014 hgt:170cm\nbyr:1963 hcl:#623a2f\neyr:2026 pid:225910806 ecl:gry\n\necl:grn iyr:2010 hgt:193cm byr:1928 eyr:2028 pid:343022641 hcl:#733820\n\neyr:2023 ecl:grn\nbyr:1950 iyr:2012 hcl:#866857 pid:400725165\nhgt:193cm\n\ncid:195 iyr:2014 ecl:oth eyr:2027 byr:1966\nhgt:177cm hcl:#18171d pid:913894485\n\niyr:2015 hgt:154cm\ncid:206\npid:134599284 hcl:#602927\neyr:2023 ecl:brn\nbyr:1983\n\necl:#2d0e7a pid:#f34625 eyr:1942 iyr:2027 byr:2013 hcl:z hgt:162cm\n\nhgt:189cm byr:1965 iyr:2011\ncid:178 ecl:hzl\nhcl:#b6652a eyr:2026 pid:683560227\n\neyr:2030 pid:047446524 ecl:grn hgt:167cm iyr:2017 hcl:#602927\nbyr:1920\n\ncid:86\niyr:1920 hgt:193cm\neyr:2027 pid:401913877 ecl:hzl\nhcl:#888785 byr:1953\n\nbyr:1991\necl:grn\niyr:2016\nhcl:#5e1ef2 hgt:186cm\npid:076499738\neyr:2025\n\neyr:2030 hcl:#18171d pid:750694893\nhgt:157cm iyr:2020 cid:338\nbyr:1956 ecl:gry\n\niyr:2027 pid:#37f002 hgt:164cm ecl:#80df11\nhcl:#aeacee cid:320\neyr:2039 byr:1956\n\niyr:2014 hcl:#733820 ecl:grn\nbyr:1960\neyr:2025 pid:667089568\n\nhgt:163cm\nbyr:1962 cid:108 ecl:gry hcl:#733820 iyr:2012\neyr:2029 pid:763684725\n\nbyr:1984 hcl:#888785 hgt:159cm iyr:2012 ecl:gry\neyr:2024 cid:236 pid:174711749\n\necl:gry pid:044931271\nhcl:#b6652a eyr:2029 iyr:2013 byr:1985\n\nbyr:1973 iyr:2018 hcl:#a97842 pid:937214113 ecl:blu\ncid:247 hgt:186cm eyr:2023\n\ncid:108 pid:231782961 iyr:2017\neyr:2034 hgt:170cm byr:2025 hcl:#18171d ecl:utc\n\npid:298274796 byr:1928 hcl:#a97842 hgt:188cm iyr:2011 ecl:gry eyr:2028\n\nhgt:65cm iyr:1943 eyr:2025\nhcl:z\npid:65702335 ecl:#bb54e6 byr:2010\n\npid:499116613 eyr:2024\necl:gry hcl:#cfa07d hgt:193cm byr:1999\ncid:278 iyr:2015\n\nhcl:#6b5442 eyr:2027 hgt:175cm byr:1988\necl:brn pid:410075320 iyr:2010\n\npid:269678991 ecl:oth iyr:2013\nhcl:#602927 byr:1991 eyr:2023\n\necl:oth\npid:144593265 hcl:#fffffd\neyr:2020 iyr:2018\nbyr:1975 hgt:160cm\ncid:304\n\niyr:2014 hcl:#ceb3a1 eyr:2029\nbyr:1951 pid:520804395 hgt:185cm ecl:oth\n\nhgt:159cm\npid:312887994\ncid:205\niyr:2016 ecl:hzl hcl:#866857 eyr:2029 byr:1944\n\niyr:2023 ecl:#54c85c byr:2030\neyr:1946 cid:190 pid:512417622\n\nbyr:1946 eyr:2023 hgt:163cm\nhcl:#2d4e9c ecl:brn pid:839043333 iyr:2014\n\niyr:2027 cid:122 hgt:187cm eyr:1975 ecl:grn byr:1920\nhcl:#c0946f\n\neyr:2029 hgt:189cm ecl:blu byr:1922 iyr:2016\npid:924104599\nhcl:#b6652a\n\nhgt:162cm\niyr:2016 byr:1921 hcl:#18171d eyr:1938 ecl:hzl\npid:682222023\n\ncid:118 pid:959515596\nbyr:1921 iyr:2010 eyr:2029 hcl:#7d3b0c ecl:oth hgt:158cm\n\necl:#8ac844 pid:162cm\nhcl:8f4d80 hgt:150in byr:2005\neyr:2008\niyr:2017 cid:174\n\nhcl:z byr:1936\npid:255481052 eyr:2021\niyr:2012 hgt:170cm cid:276 ecl:hzl\n\niyr:2013 byr:1935 hgt:179cm\neyr:2023 ecl:amb pid:073621563 hcl:#623a2f\n\nhcl:#18171d cid:230 byr:1989 ecl:oth eyr:2021 hgt:181cm pid:661224730\niyr:2019\n\npid:748039140 iyr:2020 eyr:2020 ecl:#6ebbc2 hcl:#fffffd hgt:171cm\nbyr:1995\n\necl:hzl pid:758144605 hcl:#ceb3a1 hgt:186cm\neyr:2028 iyr:2014\nbyr:1928\n\necl:hzl\nhgt:66in\nbyr:2000 iyr:2017 eyr:2020\npid:162973694 hcl:#a97842\n\niyr:2012 pid:749770535\nbyr:1969 cid:148\nhcl:#733820\nhgt:180cm eyr:2021 ecl:hzl\n\niyr:2010\nbyr:1958\nhgt:164cm\necl:blu hcl:#733820 pid:890634327 eyr:2024\n\nhgt:70in pid:218397894\niyr:2020 eyr:2025 ecl:gry hcl:#341e13\nbyr:1970\n\neyr:2020 pid:854208004 hgt:157cm hcl:#7d3b0c ecl:amb byr:1981 iyr:2020\n\nbyr:1924\ncid:321 eyr:2028 hcl:#cfa07d iyr:2010 ecl:amb pid:036669613 hgt:170cm\n\necl:#6649d4 pid:0026989865 cid:188\nhgt:152in\nbyr:1950 hcl:z eyr:1928 iyr:1963\n\nhcl:#ceb3a1 ecl:grn eyr:2028 pid:074363489 iyr:2010 hgt:173cm byr:1966\n\neyr:2030\npid:9731612333 ecl:#f8824c\niyr:2022 hgt:161in\nbyr:2023\ncid:316\nhcl:z\n\nhgt:175cm iyr:2016 eyr:2024 cid:244\nbyr:1952\npid:085432899\nhcl:#fffffd ecl:brn\n\necl:brn eyr:2026 iyr:2017 hgt:75in\npid:745302991 byr:1969 hcl:#7394c7")

(defn pre-parse-4 [input]
  (let [lines (->> (s/split input #"\n\s+")
                   (map #(s/split % #"\s")))
        to-map (fn [ss]
                 (into {} (->> ss
                               (map #(s/split % #":"))
                               (map (fn [[k v]] [(keyword k) v])))))]
    (map to-map lines)))

(with-test
  (defn algo-4a [input]
    (let [passports (pre-parse-4 input)
          required-ks #{:byr :iyr :eyr :hgt :hcl :ecl :pid}
          valid? (fn [passport]
                   (every? identity (map #(some #{%} (keys passport))
                                         required-ks)))]
      (count (filter valid? passports))))
  (is (= (algo-4a test-input-4)
         2)))

(with-test
  (defn algo-4b [input]
    (let [passports (pre-parse-4 input)
          digit-count? (fn [target s]
                         (= target (count (seq s))))
          in-range? (fn [b e s]
                      (<= b (Integer/valueOf s) e))
          valid-height? (fn [s]
                          (let [[n u] (map #(apply str %) (split-with (comp (complement neg?)
                                                                            #(Character/digit % 10))
                                                                      (seq s)))
                                n (Integer/valueOf n)]
                            (case u "cm" (<= 150 n 193) "in" (<= 59 n 76) false)))
          validations [[:byr (every-pred (partial digit-count? 4)
                                         (partial in-range? 1920 2002))]
                       [:iyr (every-pred (partial digit-count? 4)
                                         (partial in-range? 2010 2020))]
                       [:eyr (every-pred (partial digit-count? 4)
                                         (partial in-range? 2020 2030))]
                       [:hgt valid-height?]
                       [:hcl (partial re-matches #"\#[0-9a-f]{6}")]
                       [:ecl (comp #{:amb :blu :brn :gry :grn :hzl :oth} keyword)]
                       [:pid (partial re-matches #"[0-9]{9}")]]
          valid-passport? (fn [passport]
                            (every? identity
                                    (map (fn [[k validation]]
                                           (some-> (passport k)
                                                   (validation)))
                                         validations)))]
      (count (filter valid-passport? passports))))
  (is (= (algo-4b "eyr:1972 cid:100\nhcl:#18171d ecl:amb hgt:170 pid:186cm iyr:2018 byr:1926\n\niyr:2019\nhcl:#602927 eyr:1967 hgt:170cm\necl:grn pid:012533040 byr:1946\n\nhcl:dab227 iyr:2012\necl:brn hgt:182cm pid:021572410 eyr:2020 byr:1992 cid:277\n\nhgt:59cm ecl:zzz\neyr:2038 hcl:74454a iyr:2023\npid:3556412378 byr:2007")
         0))
  (is (= (algo-4b "pid:087499704 hgt:74in ecl:grn iyr:2012 eyr:2030 byr:1980\nhcl:#623a2f\n\neyr:2029 ecl:blu cid:129 byr:1989\niyr:2014 pid:896056539 hcl:#a97842 hgt:165cm\n\nhcl:#888785\nhgt:164cm byr:2001 iyr:2015 cid:88\npid:545766238 ecl:hzl\neyr:2022\n\niyr:2010 hgt:158cm hcl:#b6652a ecl:blu byr:1944 eyr:2021 pid:093154719")
         4)))

(comment (prn (algo-4a input-4)))
(comment (prn (algo-4b input-4)))

(defn b-search [size partitions]
  (second (reduce (fn [[size start] part]
                   (let [size' (/ size 2)
                         start' (if (zero? part) start (+ start size'))]
                     [size' start']))
                 [size 0]
                 partitions)))

(def row (partial b-search 128))
(def seat (partial b-search 8))

(defn seat-id [[row-ps seat-ps]]
  (+ (seat seat-ps)
     (* (row row-ps) 8)))

(day 5
  "FBBBBBBRRL\nBBFFFBBLRL\nFBFFBFFLRL\nFFBBBFBLRR\nFFBFBFFLLL\nBFBBBBFLLL\nFFBFFFFLLR\nFBBFBFBLRR\nBBBFFFFRRR\nBFBFFFBLLR\nBFFBBFBLLL\nFBBFFBFLRL\nFBBBFBFRLR\nBFBBBBBRRL\nBBFFBBFLLR\nFFBBBFBRRL\nFFBBFFBLLL\nBFFFFBFLLR\nFBBFBBBLRR\nFBBBFFFRRR\nBFBFFFFLRL\nBBFFFBBLRR\nFBFBBFBLRR\nFBBBBBFLLR\nFFBBBFBRRR\nBBBFFBBLLL\nFFFBBBBLLR\nFBBFBBFLLL\nFBFFBFFRLL\nBFBBFBFLLL\nFFBBBBFRLR\nBFBBFFBLLL\nFFBFFBFLLR\nBFBBBBFRLL\nBBBBFFFRLR\nFBFFFBBRRR\nBBBFFBFRLR\nBBFBFBFLRL\nFBBBBBBRLR\nFBBFFFBRRL\nBBFBFBBLLL\nBBFBFBFLLL\nBBFBBBBRRL\nBBBFFBFRRL\nFBFBBBBLLR\nBFFBFFFLLR\nFBBBBFFRRR\nBBFBFBFRLR\nBFFFBBFLLR\nBFBFFBFRLL\nFFBFFFBRLL\nBFFFFFBLRL\nBFBFBFBLLR\nBBFBBBBLLR\nBFFBFBBRRL\nFBFBBFBRRR\nFBBBFBFRRR\nFBFFFBBLLL\nFBBFFFFLRL\nFFBFFBBLLL\nBFBBBFBRLL\nBBBBFBFRRL\nFFBBFFBRRR\nFFFBBBFRRR\nFFBBFBFRRR\nBBFBBBFRLR\nBBBFFFBRRL\nFBBFBBFRRL\nBFFBFFFRRR\nBBFFBFBRRL\nBFBBBFBLRL\nFFFBBBBRLL\nFFBFFFFRLR\nBBFBFBFLLR\nFBBBFBFLLR\nBFFBBFFRRL\nBFFFBFBLLR\nFFBFFBFRLL\nFFBBBBFLLL\nFFFBBFFRRR\nFBFFBBBLRR\nFFFBBBBRLR\nFBFBBBBRRL\nFBFBBFBRLR\nBBFFBBFLRR\nBBBFFFBLRR\nBBFBFFBLRL\nFBFBFBBRLL\nBFBFBBFRRR\nBBFFBFFLLR\nFBFFFBBLRL\nFBFFFBBRLR\nFBFFBFBLLR\nFBBFFFFRLR\nFBFBFFBRRL\nBBFBFFBRLR\nFBBBBBFRRR\nFBFBFBFLLL\nBFBFFFBRLR\nFFFBBBBLLL\nFFBFFFFLRL\nBFFFFBFRRR\nBBBFFFFLLR\nBFBFBBFRLL\nFFBBBBFRRL\nBFBBBFFRLL\nFBFFFFBRRR\nFBFFBBFRRR\nBBFBFFFLLR\nFFBFFBBRLL\nFBBFBFFRLL\nFFBBFFBLRR\nFBBFBFFRRL\nFBFFFFFLRL\nBBBFBFBRLR\nFBBBBFBLLL\nBFFFFBBRLL\nFBBFBFBRLL\nBBBFBFFRRL\nBBBFFFBLLL\nFBBBBBBRLL\nFBFBBBBLLL\nBBBFFFBRLR\nBFFFBBFRLL\nBFFBFFBLRL\nBFBBBBBLLR\nFBBFFBBRRR\nFBBFFFFLLR\nBFBBFFFRLR\nFBFFFBBLRR\nBBFBBFFRLR\nBFFFFBFLRL\nFFBBBFFRRR\nFBFFFFFRLL\nBBFFBFFRLR\nFFBBBBBRRR\nFFBBBBFRLL\nFBFFFFFLRR\nFFBFFBFLRR\nBBFBBFFRRR\nBFBFBBBRRL\nFBBFBFFLRL\nFBBFFBBLLR\nBFFFFBBLLL\nBBFBBBBLRR\nBFBBFBFRRL\nBFBBFFFLRL\nFFBBFFBLRL\nBBFFBBFLLL\nBBBFBBBRLL\nBBFBFBBLRR\nBFFBFBBRLR\nFBFFBFBRLL\nFBFBBFFRLL\nBBFBBBBLRL\nBBFBFFBLLR\nFBBFFBFRRL\nFFBBFBFRRL\nBFFBBBBRRR\nBFFBBFFLRR\nBFFFFBFLLL\nFBFBBFFLRL\nFBFBFFFLRL\nFFBBFFFLRL\nFBBFBFFLRR\nBBFFFFBLLL\nBFBBBFFLLL\nBFFBBBBLLR\nBBBFBFFRLL\nBBFFFBFRLR\nFFBBFFFRLR\nFFFBBFBRLR\nBFBFBFFRRR\nBBFFFBBRLR\nBBBFFBBRRR\nFFBFFBFRRR\nBFBBBBBLRR\nFBBFBFBRRR\nBBFFFFFLLR\nFFBFBBBLRR\nBBFFFFFRRR\nFBFBBFFLLR\nBFBFFBFLLR\nFFBFBFBRLL\nBBBFFBBRLR\nFBBBBBFRLL\nFBFBBBFLLL\nBBBBFBBLRR\nBBBBFFBLRL\nBFBFBFBLLL\nBBFFBBBRLL\nBFBBFFFRLL\nBBBBFBFLRL\nFFBFBBFLLR\nBFBFFBFRRR\nBBFFFBFLLL\nFFBFBBBRRL\nFBFBFFFLLR\nFFBFBBFLRL\nBFFFBFFRLL\nFBFBFBFRLL\nFBBBFFBLLR\nFFBBBFFLRR\nBFFFFFFLRL\nFFBFBFFRLL\nBBBFBBFRRR\nFFBBFFBRLR\nBBFBBFBRLL\nFBBFBBBRLR\nFBFBFFBLRL\nFBBBFFFRRL\nBBBFBFFLRR\nFBFBBFBRRL\nBFBFBBFRLR\nBFFFFBBLLR\nBBBFBBBLRR\nFFBBBFFRRL\nFBFBFBBRRL\nFFFBBBFLLR\nBFFFFFFRRR\nFBFBFBBLRR\nBFFFBFFRRL\nFBBFBBFRRR\nFBFBFFBLRR\nFBBBBFBLLR\nBBBBFBBLRL\nBFFFBBFLRL\nBFBBBFBRRL\nBFBFBFBLRR\nFBBBBBBRRR\nFFBFBBBRLR\nFBFFFBBRRL\nBFFFFBFLRR\nBBFBFFFRRR\nFFBBFFFLRR\nBFBBBBFRRR\nFBFBFBFRRL\nBBFFFBFRRR\nBBBBFFBLLL\nBFFBBFBLLR\nFBFFFFBRRL\nFBBBFBFLRR\nFBBFFBFRLR\nFFBBBBFLRR\nBBFFFBBLLR\nFFBFBFFLLR\nBFFBFFBLLL\nBFFFBBFRLR\nBBFFFFBRRL\nBBFBFBFRLL\nFBFFFBFLRL\nBBFFBBBLRR\nBFBFBBFRRL\nBBBFFBFLRR\nBFFFBFBRLL\nBBBFBBBLRL\nBBFBBFFLLR\nBFBBBBFRRL\nFBBFFFBRLL\nBBBFBFFLRL\nBFBFFFBLRR\nBBBFBBFRLR\nBFBFBBBRLL\nFBBFBFFLLL\nFFBFBBFLRR\nBFBBFFFLRR\nBFFBBBFRRL\nFFFBBFBLRL\nFBFFBBFLRL\nFBFFFBFLLL\nFFBBBBBLRL\nFFFBBFFRLL\nBBFFBBBRRR\nBFBBFBBLRR\nBFBBBFFRRR\nBFBFFBFLLL\nBBBFFBFLRL\nBBFFFFBLRL\nFBFBBBFLRR\nFBFFBBBLLL\nFBBBBFFRRL\nBBBFFBFLLR\nBFFBFBFRRL\nBFFFBFFRRR\nBFBFBFBLRL\nBFBFBFFLLL\nFBFFBFBRRR\nBFFBFFBRLL\nBBBFBBBRRR\nFBFBFFBRRR\nFBFFFFFLLR\nFFBFBFFRRL\nBBFBBBFLLR\nFBFFBBBLRL\nBBFFFFBLRR\nFFFBBBBRRL\nFBFBFBBRLR\nFFBBBBFLLR\nFBFBBFBLRL\nFBFFBFFRRL\nFBBBFBBLLR\nFBFBBFFRRR\nBFBFBBBRLR\nBBFBBBBRRR\nFBFBBBFRRL\nBBFBBBBRLR\nFBFFBFFLLL\nFBBBFFBRLR\nFBFFFBFLRR\nBBFBFFFLRR\nFBFFFFBLRR\nFBFFBBFRLR\nFFFBBBFLLL\nBFFFBFBLRL\nFFBFFFFRRL\nBBFFBFBRLL\nBBFBBFFLRL\nBBBBFFFLRR\nFBBBBBBLRL\nBFBFBFBRRL\nBBBFFBBRRL\nFBBFBBBLLL\nFFBBFFFRLL\nFBFFFFFLLL\nFBBFBBFRLR\nFBFFBFFRRR\nBBFFFBBRLL\nFFFBBFFLLR\nBFFBFFBLRR\nBFBBBBBLRL\nFBBBFBFRRL\nBFFFFFFLRR\nFBFBFBBLRL\nBFBFFFBLRL\nFBBFFFBLRR\nBFFBFBFLRR\nFFBFBFBLLL\nBFBFFBFLRL\nFBBBFFBRLL\nFFBBBFBLLL\nFBFFFFFRLR\nBBBFFFFRRL\nFBFFBFFLRR\nBFBFFBBLLR\nBFBFFBFLRR\nBBBBFBFRRR\nFBFBBBFRRR\nFBFFBBBRLR\nBBFBFBBLLR\nFBFBBBBLRR\nBBBFBFBLLL\nBFFFBBBLLR\nBFFFBFFLLL\nBFFFFFBLLL\nFBFFBBBLLR\nFBBFFBFRRR\nFBFBFFBRLR\nBBBFFFFLRR\nFFBFFBBLRL\nFBBFBBBLRL\nFBFFFFFRRR\nFFBBBFBRLR\nBFBFFFFRRL\nFFBFBFBLLR\nBBFFFBFLLR\nBBFFBBFRRL\nBFBFBFBRRR\nBFBFBFFLRR\nBFFFFFBLLR\nFBBBBBFLRL\nFBBBFFBLRR\nBBFFBBFLRL\nBFBFBFFRLR\nBFBFBBFLLR\nBFFFBBBRLR\nBFBBFBFRLL\nBFFBBBBLRL\nBBBFBBBRLR\nBFFFBFFLRR\nFFBBBBBRLR\nBBFBFBBRRL\nBFBBBFBLLL\nFBFBBFFRLR\nFFBFBFFRLR\nFFBBFBBRLL\nFBFFBBFLLR\nBBBBFBFLRR\nFFFBBFBLLL\nBFFFBBFLLL\nFFBFFFFRLL\nFBBFBFBLRL\nFFBBFBFLLR\nBFBFBFBRLL\nBFFBFBFRRR\nBBFBFBFRRL\nFFBFBFFRRR\nBBBFFBBLRL\nFBFFBFBLRL\nBBFFBFFLRL\nFBFFBFBLLL\nBFFFBBBLRL\nBFBFBFFLRL\nFBBBBFFLLR\nBBFFBBFRLL\nBBFFBFBRLR\nBFBBFFBLRR\nBBFBBFBRRL\nFBFFBBBRRL\nFFBFBBBLLL\nFFBFBFFLRR\nBBBBFFBLLR\nBBFFBBBLLL\nBBFBBFFLRR\nFBBBFBFLLL\nFFFBBBBLRR\nFFBBFBFLLL\nBBFBBFBLRL\nBFFBFBFLRL\nBFFFBBBLRR\nFBFBFBBRRR\nFBBBFFFRLL\nFBBBBBBLLL\nBFFBFBBLLL\nBBFFFBFRRL\nFBBFBBBLLR\nBFFBBBFLRR\nFFFBBFBLLR\nFBFFFBFRRL\nBFBFBBBRRR\nFBFBFFFRLL\nBFFFBFBLRR\nFBBBFBBLLL\nBBBFBFFRLR\nBFBBBFFLRR\nBFFBBBFLLR\nBBBBFFFRRL\nBBFBBFFRRL\nBFBBFBBRRL\nFBBBBBFRRL\nBFFBFBBRLL\nFFBFFFBLLL\nFFFBBBFLRR\nFFBBBFBRLL\nFBBFFBBRRL\nBFFFBFBRRL\nBFBBFBBLLL\nBFFFFFFRRL\nFFBFFFBRRR\nBFFBFBFRLL\nFBBFBBFLRR\nBBFFFFBRRR\nBFBFFFFLLL\nFBBFFFBLLR\nBBFFBFBLLL\nBBFBFFBRLL\nBBFBFFFLRL\nFBBBFFFLLL\nFFBFFBFRLR\nFBFBFFFLLL\nFBBBFBBLRL\nFFBFBBFRLL\nBFBFFFFRRR\nFBFFFFBLLR\nBFBBFBBLLR\nFBFFBBFLRR\nFBFBFFFRRL\nBFBFFBFRLR\nBBBBFFFLLR\nBFBBBFFRRL\nFBFBFFBRLL\nFBBBBFBLRR\nBBFFFFFRRL\nBFFFFFFLLR\nFBFFBBFLLL\nBBFBBBFRRL\nFBFFFFBRLR\nFFBBBBBLLR\nBBBBFBBLLR\nBBFBFBBRLL\nFBFFFBFRRR\nFBBFBFBLLL\nFBBFFFFLRR\nFFFBBFFLRL\nFBBBBFFRLR\nFFBBBFFLRL\nFBBBBBFLRR\nFBBBBBFLLL\nBFFFBFBLLL\nBFBBBBBRLL\nFBBBFBBRRR\nFBFFBBFRRL\nBFFBFFBRLR\nBBFBBFBRRR\nBBFFFBFLRL\nFFBFFFBRLR\nBFBFFFFRLR\nFBBBBFFLRR\nBFBFFBFRRL\nBFFFFBBRLR\nBFFBBBFRLL\nBBFFFFFLLL\nFBBFFFBRRR\nBFBFBBFLRR\nBFFBFBBLLR\nBFFFBBFLRR\nFFBBFFFLLR\nFBFFFFFRRL\nFBBBFFBLRL\nFBFBBFBRLL\nBFBBFBFLLR\nBBBBFBFLLL\nFBBFFFBRLR\nBFFBFFFLRL\nBBBFBFBRLL\nFBBBBFBRRR\nBBBFBBFLRR\nBBFFBFFRRL\nFBFBFBFRRR\nBFBBBFFRLR\nBBBFBBBLLR\nFBFBBBBRRR\nBFFBBBFLRL\nFFBFFFFLLL\nFBFFBFBRRL\nFBFFFFBLLL\nBFFFFFBRRR\nBBBFFBFRRR\nBFFFFFFRLL\nBFBFFBBRRL\nFBBBBBFRLR\nBBFFBBBRLR\nFFBFFBBLLR\nBBFFBBBLRL\nBBBFFBFLLL\nBBBBFFBRRR\nBBBFBBFLLL\nFBFFFBFRLR\nFBBFBBFRLL\nFFBBBFFLLL\nFFBBBBFLRL\nFFBBBBFRRR\nFFBBFBBLRL\nFBFBBBFLLR\nBFFFBBFRRL\nBBBFBBFRLL\nBFBBFFBRLL\nBBFBBBFLLL\nFFBBBBBLRR\nBFFFFBBRRR\nBBFFFFFRLL\nFBBBFBBRLR\nFFBFBBBLLR\nBFFFFFFLLL\nFBBFBBBRRR\nFBFBFBFLRL\nBFBFFFFLLR\nBFFFFFBLRR\nFBFBFFFRLR\nBBBBFBFLLR\nBBBBFFBRLR\nBFFFFBFRLL\nBFBFBBFLLL\nFFBBBFFRLL\nFFBBBBBRLL\nBFBBFBFLRL\nFFBBFBBLRR\nBFBBBFBRLR\nBBFFBFBRRR\nBFFFBFFRLR\nFFBFBFBRRR\nBBFFFBFRLL\nBFBBFFBRRR\nFBFBBFFLLL\nFBBFFBFLLR\nBBFBBBFLRR\nBFFBFFFRLR\nBFFBFFBLLR\nBFFBBFBRRL\nBBBFFBBLRR\nBFFFBFBRRR\nFBFFFFBLRL\nBBFFFFFLRR\nFFBFFBBRLR\nBBFBFBFRRR\nBFBBFBBLRL\nBFFBFFBRRL\nFFBFFBBLRR\nBFBBFFFRRR\nBFBBBFFLLR\nBBFBFFBRRR\nBBBFBFBLRR\nFFBFFFBLRR\nBFFBBBBRLR\nBFBFFBBLLL\nBFBFBBBLLL\nBBBFBFBLRL\nFBBFBFBRRL\nFBBBFFFLLR\nBFFFFBFRRL\nBFBBFBFLRR\nBBFBFFBLLL\nBBFBFFFRLL\nBBBFFFFLRL\nBFFBBBBLLL\nFBFBBFFRRL\nFBFFBFFRLR\nBBBBFFFLRL\nBFBFBFBRLR\nBFBBBBFLLR\nBBFFFFFLRL\nBBBBFFFRLL\nFFFBBBFRRL\nFFBFFBFLRL\nBBFBFFBRRL\nBFFFFBFRLR\nBFBBBBBRRR\nBFFFBBBRRL\nBBFBFFFLLL\nFFBBFBFLRR\nBFFBFBBRRR\nFFBFFBFRRL\nFBFFBFBLRR\nFFBFFFBLLR\nBFBFBBBLRR\nBFFFFFBRLL\nFBBFFBBLLL\nBFFBBBFRRR\nFBFBBBBLRL\nBFBBBBFRLR\nFBFFBBFRLL\nBFBBBFBLRR\nFBBFBFFRRR\nFBBFFBFRLL\nFFBFBBFRLR\nBBBFFBBRLL\nBBFFBFBLLR\nBFBBFBFRRR\nFBBFBBBRLL\nFBBFFFFLLL\nBFFBBFBRLR\nFBBFBBBRRL\nFBBFFFBLLL\nBBFBBFFRLL\nBBBBFBFRLL\nBFFFFFBRRL\nFBBBFBFRLL\nBFFBBFFRLL\nBBFFFFFRLR\nFFBFBFFLRL\nBFBBFBBRLL\nFBBBFFBRRL\nFFBFBBFLLL\nBFBFFFFRLL\nBBBFBBFLLR\nBFBBFFBRLR\nBBFFBFFLRR\nFFBFBBFRRR\nBBBFBFFLLL\nFBBFFFFRRL\nFFFBBFFLLL\nFBBBFBBLRR\nBFBFBBBLLR\nFBFBBBFLRL\nFFBBBFFLLR\nBFBFBFFRLL\nBFBBFFFRRL\nBBBBFBFRLR\nBFFBFFFRLL\nFBFBBBBRLL\nBBFBFFFRLR\nFBBFBFFLLR\nBFBBFFFLLR\nBBFBBFFLLL\nBFFBBFBRRR\nFBBBFBFLRL\nFFBBBFFRLR\nBFBBBBBRLR\nBBFBBFBLRR\nFFBFFFFRRR\nBFBFBFFRRL\nFFBFBBBLRL\nBBBFFFFRLR\nFBBBFFBRRR\nBFBFBBFLRL\nBFBBBFBRRR\nBFFBBFFRLR\nFFBFFBBRRR\nBBFFBFFRLL\nBFBFFBBLRR\nBBFBBBBLLL\nBBFFBBFRLR\nBFFBFFFRRL\nBFBBFBBRLR\nBBBBFFBLRR\nFBFBFFFLRR\nBFFFFBBLRR\nBBBFFFBLRL\nBBBFBBBRRL\nFFBBFBFRLR\nBBFBBFBRLR\nBFFFBBBLLL\nBFFBBBFRLR\nBFBBBBBLLL\nFBBFBFFRLR\nBFFFFFBRLR\nBBFBBFBLLL\nBBFFBBBRRL\nFFBFBFBLRR\nBBFBFBBLRL\nFBBBBFBLRL\nBBFFFBBRRL\nFBBBBFBRLR\nFFBBBBBLLL\nFBFBBFBLLR\nBBFFBBFRRR\nBFFFBBBRLL\nBFBBFBBRRR\nBBFBFBFLRR\nFFBFBFBRRL\nFFBBBFBLRL\nBFFFBBBRRR\nBFFBBFFRRR\nFBBFFBBRLL\nFBBFFBBRLR\nFBBFFBFLRR\nBBBBFFFRRR\nBFFFFFFRLR\nFBBBFFFRLR\nBBBFBFBLLR\nBFFBBFFLRL\nFBFBBBFRLL\nBFBFBBBLRL\nBFBFFFBRRL\nFBBBFFFLRR\nBBFFBFFRRR\nBBFBBBFLRL\nFBBFBBFLRL\nFBFBFBBLLL\nFFBBFBFRLL\nFBFFFBFRLL\nBBFBFFBLRR\nBFBBBFBLLR\nFBFBFBFRLR\nBFFFFBBLRL\nFFBFFFFLRR\nFBBFFFBLRL\nBFFFBFBRLR\nBBBBFFFLLL\nBBFBBFBLLR\nFFBBFBBLLL\nFFBBFFFRRL\nFFBFBFBRLR\nBFFBBBFLLL\nBBBFFFBLLR\nBFFBFFBRRR\nFFFBBFBRRR\nFFFBBFFRRL\nBBFBFFFRRL\nFBBFBFBRLR\nFBFBBFFLRR\nBBFFBBBLLR\nFFFBBFBRLL\nFBBFFBBLRR\nFFFBBBFRLL\nFFBBFFFRRR\nFBFBFBFLRR\nFBFFFBBLLR\nFBFFFFBRLL\nBBFBBBFRRR\nBFFBBBBRLL\nFBFFFBBRLL\nFFBBBBBRRL\nFFBBFBBRLR\nBFFBFBFLLL\nFFBBBFBLLR\nBFFBFBBLRL\nFBBFFFFRRR\nFBBBFBBRRL\nFBFFBFFLLR\nFFBBFFBRRL\nBBFBBBFRLL\nFFBFFFBRRL\nBBFBFBBRLR\nFBFFBBBRLL\nBFFFBFFLRL\nBFFBBBBLRR\nBFBFFFBRLL\nFFBFBBFRRL\nBBBBFBBLLL\nFBBBBFFLLL\nFBFBBBBRLR\nBFBBBBFLRL\nFFFBBFFLRR\nBFFBFBFLLR\nBBFFFBBLLL\nFBFBFFFRRR\nFBBFFBFLLL\nBFBFFFFLRR\nBBBFFFBRRR\nFBBBBFFLRL\nFFBFBBBRRR\nBFFBBFFLLL\nFFBBFBBRRR\nFBBBFBBRLL\nBBBFBFBRRL\nFBBBBFBRRL\nFFBFBBBRLL\nFBFBFBFLLR\nBBFFBFBLRR\nBFFBFBFRLR\nBBBFBBFRRL\nBBBFBBFLRL\nFBFBFFBLLR\nBFBFFBBRRR\nFBFFFBFLLR\nBBBFBFBRRR\nBBBFFFFLLL\nBBBFFBFRLL\nBFBFFBBRLR\nBFFFBBFRRR\nBBBFFBBLLR\nBFBFFFBLLL\nFFFBBFBLRR\nFBBFFBBLRL\nFBBBBFFRLL\nBFBFFBBRLL\nBFFBBFBLRL\nBBBBFFBRLL\nBBFFFFBLLR\nFFFBBBFLRL\nFFFBBBBLRL\nBBFFFFBRLL\nFFFBBBFRLR\nBBBFFFBRLL\nFFBBFFBLLR\nFFFBBBBRRR\nBBFFBFFLLL\nBFBBFBFRLR\nBBBFBFFRRR\nBFFBFFFLLL\nBFBBFFBLLR\nBBBFBBBLLL\nFBBBBBBLLR\nBBBFFFFRLL\nFFBBFFBRLL\nFBFBBBFRLR\nBBFFFBFLRR\nBBFBFBBRRR\nBFBBFFFLLL\nFBBFBBFLLR\nFBFBBFBLLL\nBFBBBBFLRR\nBBBFBFFLLR\nBFFBBBBRRL\nBFBFFBBLRL\nFFBFFBFLLL\nFFBBFFFLLL\nBFBBBFFLRL\nBFFFFBBRRL\nFFBBFBFLRL\nFBBBBBBLRR\nFFBFFBBRRL\nBFFBBFBLRR\nBBBBFFBRRL\nBFFBBFFLLR\nBFBBFFBRRL\nFFFBBFBRRL\nBFBBFFBLRL\nFFBBFBBLLR\nBFFFBFFLLR\nBBFFBFBLRL\nFBBBBFBRLL\nFBBFBFBLLR\nFFBFFFBLRL\nFFBBFBBRRL\nBBFFFFBRLR\nFBFBFFBLLL\nBFFBFFFLRR\nBFBFBFFLLR\nFFBFBFBLRL\nBBFFFBBRRR\nFBFBFBBLLR\nFBFFBFBRLR\nFBFFBBBRRR\nFBBBFFBLLL\nBBFBBBBRLL\nFBBBFFFLRL\nFFFBBFFRLR\nBFBFFFBRRR\nBFFBBFBRLL\nFBBFFFFRLL"
  (fn [input] (->> input
                   (s/split-lines)
                   (map seq)
                   (map #(map {\F 0 \B 1 \L 0 \R 1} %))
                   (map (partial split-at 7))))

  #(apply max (map seat-id %))
  [357 "FBFBBFFRLR"]
  #(let [pairs (->> % (map seat-id) (sort) (partition 2 1))
         [a b] (first (filter (fn [[a b]] (not= a (dec b))) pairs))]
     (inc a)))




;(run-tests 'advent)


